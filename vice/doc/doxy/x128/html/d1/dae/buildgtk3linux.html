<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>x128: GTK3 on Linux</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../vice-logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">x128<span id="projectnumber">&#160;3.8</span>
   </div>
   <div id="projectbrief">Versatile Commodore Emulator and Virtual Commodore Environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d1/dae/buildgtk3linux.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">GTK3 on Linux </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><tt>
The following notes come from an edited IRC session and the distribution used
<br>
was Ubuntu, package names and installation commands may differ in other distros.
<br>

<br>
Note that you may need a semi-recent distribution for the appropriate GTK3.2
<br>
libraries to be available. E.g. the below doesn't work on LinuxMint 18.3 or
<br>
earlier, though you may be able to manually download and compile GTK3.22 for
<br>
your platform (untested).
<br>

<br>
Tested on:&nbsp;&nbsp;Linux Mint 19, 20
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ubuntu 17.10.1, 18.04, 19.04, 20.04.3-LTS 22.04 22.10 23.04 23.10
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Debian 9.0-9.8, 10.0, 10.3, 10.4, 10.5, 10.6, 11.0, 11.1, 11.2 11.3
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 11.4 11.5 11.6 11.7 12.0
<br>

<br>
--------------------------------------------------------------------------------
<br>
1. adhoc build from SVN
<br>
--------------------------------------------------------------------------------
<br>

<br>
first, check out the svn:
<br>

<br>
if you dont have svn, install it first
<br>
$ sudo apt-get install subversion
<br>

<br>
$ mkdir myworkdir
<br>
$ cd myworkdir
<br>
$ svn checkout https://svn.code.sf.net/p/vice-emu/code/trunk trunk
<br>

<br>
now ... you will need some packages:
<br>
$ sudo apt-get install autoconf
<br>
$ sudo apt-get install automake
<br>
$ sudo apt-get install build-essential&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# (contains gcc, make)
<br>
$ sudo apt-get install byacc
<br>
$ sudo apt-get install flex
<br>
$ sudo apt-get install xa65&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # needed to build the vsid driver
<br>
$ sudo apt-get install gawk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # or mawk
<br>
$ sudo apt-get install libgtk-3-dev
<br>
$ sudo apt-get install texinfo
<br>
$ sudo apt-get install texlive-fonts-recommended
<br>
$ sudo apt-get install texlive-latex-extra&nbsp;&nbsp;# needed for the VICE logo in the pdf
<br>
$ sudo apt-get install dos2unix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # only used when doing `make dist`
<br>
$ sudo apt-get install libpulse-dev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # for Pulse Audio sound support
<br>
$ sudo apt-get install libasound2-dev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # for ALSA sound support
<br>
$ sudo apt-get install libglew-dev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# for OpenGL hardware scaling support
<br>
$ sudo apt-get install libcurl4-openssl-dev # for WiC64, &gt;= 7.71.0 is required
<br>
$ sudo apt-get install libevdev-dev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # for Linux evdev joystick driver,
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# can be omitted if `--without-evdev`
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# was passed to configure
<br>

<br>
If you plan on building the PDF documentation, you will also need to install
<br>
whatever package includes "epsf.tex". It was recently in "texlive-plain-generic".
<br>

<br>
(libpng-dev is required but is a hard dependency of libgtk-3-dev)
<br>

<br>
The following are optional but recommended (not required for a basic build):
<br>

<br>
$ sudo apt-get install libgif-dev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # GIF screenshot support
<br>
$ sudo apt-get install libpcap-dev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Ethernet support
<br>

<br>

<br>
If you have those installed, do run autogen.sh inside the vice dir:
<br>
$ cd trunk/vice/
<br>
$ ./autogen.sh
<br>
that should complete without error (and generate the actual configure scripts)
<br>

<br>
try configuring now:
<br>
$ ./configure --enable-gtk3ui
<br>
it should complete without error
<br>

<br>
lets try compiling it... we'll reconfigure again later and enable the options
<br>
you are missing :)
<br>
$ make
<br>

<br>
try running x64sc
<br>
$ ./src/x64sc
<br>

<br>

<br>
Note: VICE expects ROM images, shaders and other data at $PREFIX/share/vice,
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if you've not installed VICE before, these won't be found and x64sc will
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail.
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In that case, tell x64sc where to find the data:
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ ./src/x64sc -directory ./data
<br>

<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Once you've succesfully run `make install`, the ROMs will be present at
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$PREFIX/share/vice/$EMU and the above command won't be necessary anymore.
<br>

<br>

<br>
Finally, once one is satisfied with the compiler options etc:
<br>
$ sudo make install
<br>

<br>

<br>
NOTE: The following is from the previous Linux build readme and may not be
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relevant (I've updated most of this for Gtk3 now, I think --compyx)
<br>

<br>
--------------------------------------------------------------------------------
<br>
2. tweak the configuration
<br>
--------------------------------------------------------------------------------
<br>

<br>
run x64 in a terminal, it should print a line that tells some config details:
<br>

<br>
$ ./src/x64
<br>
&lt;...&gt;
<br>
*** VICE Version 3.3, rev 35869:35870 ***
<br>

<br>
Welcome to x64, the free portable C64 emulator.
<br>
&lt;...&gt;
<br>

<br>

<br>
install additional packages:
<br>

<br>
$ sudo apt-get install libpcap-dev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# for ethernet emulation
<br>

<br>
$ sudo apt-get install libavcodec-dev&nbsp;&nbsp;&nbsp;&nbsp; # for video capturing support
<br>
$ sudo apt-get install libavformat-dev
<br>
$ sudo apt-get install libswscale-dev
<br>

<br>
$ sudo apt-get install libmp3lame-dev&nbsp;&nbsp;&nbsp;&nbsp; # required for MP3 encoding
<br>
$ sudo apt-get install libmpg123-dev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# required for MP3 decoding (and for
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# mp3@64 cartridge support)
<br>
$ sudo apt-get install libvorbis-dev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Ogg/Vorbis support
<br>
$ sudo apt-get install libflac-dev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# FLAC support
<br>

<br>

<br>
reconfigure with a few more options (check if you really want/need them!):
<br>
$ ./configure --enable-arch=native --with-resid --enable-gtk3ui \
<br>
&nbsp;&nbsp;&nbsp;&nbsp;--enable-ethernet --with-pulse --with-alsa --enable-cpuhistory \
<br>
&nbsp;&nbsp;&nbsp;&nbsp;--enable-ffmpeg
<br>

<br>
(optionally add --enable-debug-gtk3ui --enable-debug to get debugging messages
<br>
 to better debug problems, or to help reporting bugs)
<br>

<br>

<br>
compile again...
<br>
$ make
<br>

<br>
... and finally install
<br>
$ sudo make install
<br>

<br>
--------------------------------------------------------------------------------
<br>
3. staying up to date
<br>
--------------------------------------------------------------------------------
<br>

<br>
Once you did all this, you can keep your local work directory, and build
<br>
yourself a cutting edge version simply by doing:
<br>

<br>
$ svn up
<br>
$ make
<br>
$ sudo make install
<br>

<br>
--------------------------------------------------------------------------------
<br>
4. For KDE users
<br>
--------------------------------------------------------------------------------
<br>

<br>
If opening the PDF doesn't work, you may have to register a KDE-based
<br>
application to handle opening the PDF:
<br>

<br>
In a normal-user shell, issue:
<br>

<br>
$ gio mime application/x-pdf org.kde.okular.desktop
<br>

<br>
This will register okular with GIO as the PDF handler.
<br>

<br>
Hopefully this is a temporary solution which we can fix by using xdg-open.
<br>
</tt>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">Developer Information</a></li><li class="navelem"><a class="el" href="../../d4/d5a/howtobuild.html">How to build VICE</a></li>
    <li class="footer">Generated on Sun Jun 16 2024 16:43:06 for x128 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
