<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>vsid: vdrive/vdrive.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../vice-logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">vsid<span id="projectnumber">&#160;3.8</span>
   </div>
   <div id="projectbrief">Versatile Commodore Emulator and Virtual Commodore Environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d2/d32/vdrive_8h_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">vdrive.h</div></div>
</div><!--header-->
<div class="contents">
<a href="../../d2/d32/vdrive_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * vdrive.h - Virtual disk-drive implementation.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> *</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> * Written by</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> *  Andreas Boose &lt;viceteam@t-online.de&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> *</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> * Multi-drive and DHD enhancements by</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> *  Roberto Muscedere &lt;rmusced@uwindsor.ca&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> *</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> * This file is part of VICE, the Versatile Commodore Emulator.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"> * See README for copyright notice.</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"> *</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"> *  This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> *  it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment"> *  the Free Software Foundation; either version 2 of the License, or</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment"> *  (at your option) any later version.</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment"> *</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment"> *  This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment"> *  GNU General Public License for more details.</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment"> *</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="comment"> *  You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment"> *  along with this program; if not, write to the Free Software</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment"> *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment"> *  02111-1307  USA.</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment"> *</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment"> */</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#ifndef VICE_VDRIVE_H</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#define VICE_VDRIVE_H</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="../../d9/d49/types_8h.html">types.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="../../dd/d1d/vdrive-dir_8h.html">vdrive-dir.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a2328493203f8da0a985673e0a369f196">   36</a></span><span class="preprocessor">#define NUM_DRIVES              2</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a22d8a4f307f64ce3c63432d691588f46">   38</a></span><span class="preprocessor">#define VDRIVE_PART_SUPPORTED(a) (vdrive-&gt;ptype[a]&gt;=1 &amp;&amp; vdrive-&gt;ptype[a]&lt;=4)</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a703debb80e768c6a0943568eff1bc0ae">   39</a></span><span class="preprocessor">#define VDRIVE_IS_FD(a) (a-&gt;image &amp;&amp; (a-&gt;image-&gt;type == DISK_IMAGE_TYPE_D1M || a-&gt;image-&gt;type == DISK_IMAGE_TYPE_D2M || a-&gt;image-&gt;type == DISK_IMAGE_TYPE_D4M ))</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#ae3260b0a6b3adaeb640a67c3c5a21d11">   40</a></span><span class="preprocessor">#define VDRIVE_IS_HD(a) (a-&gt;image &amp;&amp; (a-&gt;image-&gt;type == DISK_IMAGE_TYPE_DHD))</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a5c9b424551b3d13891ddc3d949dfd6d7">   41</a></span><span class="preprocessor">#define VDRIVE_IS_READONLY(a) (a-&gt;image_mode &gt; 0)</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="comment">/* High level disk formats.</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="comment">   They can be different than the disk image type.  */</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a1631a71633ba021451f8240b71e3c5df">   45</a></span><span class="preprocessor">#define VDRIVE_IMAGE_FORMAT_1541 0</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a07de5a6bda6c5decbde49ed35b94e487">   46</a></span><span class="preprocessor">#define VDRIVE_IMAGE_FORMAT_1571 1</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#acd698e37a26ab038555c730da7d40037">   47</a></span><span class="preprocessor">#define VDRIVE_IMAGE_FORMAT_1581 2</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a7e798151e46f84025ada2c5546a1471b">   48</a></span><span class="preprocessor">#define VDRIVE_IMAGE_FORMAT_8050 3 </span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a862998086308bc918c41df7b07ddf6c1">   49</a></span><span class="preprocessor">#define VDRIVE_IMAGE_FORMAT_8250 4 </span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a8f59a4a8b815d5e872325502251cc185">   50</a></span><span class="preprocessor">#define VDRIVE_IMAGE_FORMAT_2040 5 </span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#aa620a1cc0bdc6b619e1013c36d54ce5e">   51</a></span><span class="preprocessor">#define VDRIVE_IMAGE_FORMAT_NP   6</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#af418f00039ebfb22e1f5ec9f7bb6ee37">   52</a></span><span class="preprocessor">#define VDRIVE_IMAGE_FORMAT_SYS  7</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#ad8da84d2604b0d7a3fa22a243cb64911">   53</a></span><span class="preprocessor">#define VDRIVE_IMAGE_FORMAT_9000 8</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#afcee8902626898c021da9a1dd1b68f5a">   54</a></span><span class="preprocessor">#define VDRIVE_IMAGE_FORMAT_NONE 10</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a158c34425b158914fffbdbdac141671a">   56</a></span><span class="preprocessor">#define BUFFER_NOT_IN_USE      0</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#ad49af99a2766a2eaba0a8554f63432d9">   57</a></span><span class="preprocessor">#define BUFFER_DIRECTORY_READ  1</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a2b7c4713407529784d55e8066296b590">   58</a></span><span class="preprocessor">#define BUFFER_SEQUENTIAL      2</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a7ee0958fd5f6fb0faba0604592dc6d3b">   59</a></span><span class="preprocessor">#define BUFFER_MEMORY_BUFFER   3</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a6f2cd243ca58caded7732a16d31c46fa">   60</a></span><span class="preprocessor">#define BUFFER_RELATIVE        4</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a57bea739b64b8a1dc16d1d09e1935616">   61</a></span><span class="preprocessor">#define BUFFER_COMMAND_CHANNEL 5</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#aeb24f315543ad37806e09d654bf19243">   62</a></span><span class="preprocessor">#define BUFFER_PARTITION_READ  6</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a1884a8c9ae2566167e8fe25e8ebaf27a">   63</a></span><span class="preprocessor">#define BUFFER_DIRECTORY_MORE_READ  7</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#aff02b3fcd7a603c6d360a46a61bdeb5b">   65</a></span><span class="preprocessor">#define VDRIVE_BAM_MAX_STATES    33</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a7217bf0edddda1e17d347f7c5b717f27">   67</a></span><span class="preprocessor">#define WRITE_BLOCK 512</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a572ae70dd58d818565f8f69885d3c08a">   69</a></span><span class="preprocessor">#define SET_LO_HI(p, val)               \</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="preprocessor">    do {                                \</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="preprocessor">        *((p)++) = (val) &amp; 0xff;        \</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="preprocessor">        *((p)++) = ((val) &gt;&gt; 8) &amp; 0xff; \</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="preprocessor">    } while (0)</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#ad4f749efb40f64a61741180eab46ff75">   75</a></span><span class="preprocessor">#define DRIVE_RAMSIZE           0x400</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#aa1cd18b21b8702170d54b9aee7d5d670">   77</a></span><span class="preprocessor">#define BAM_MAXSIZE (VDRIVE_BAM_MAX_STATES * 256)</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a6950cf86087877bb855d1c7c848fc2a9">   80</a></span><span class="preprocessor">#define SERIAL_OK               0</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a6ba4cad371592c5bf3e03d3a17833dac">   81</a></span><span class="preprocessor">#define SERIAL_WRITE_TIMEOUT    1</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a2aae5e93611c4cd856fbeaa11ae3062a">   82</a></span><span class="preprocessor">#define SERIAL_READ_TIMEOUT     2</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#ada5357fdd4c0ccf4f4765b71f07068a4">   83</a></span><span class="preprocessor">#define SERIAL_FILE_NOT_FOUND   64      </span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#aa205553204e174cafd2730daeb09c852">   84</a></span><span class="preprocessor">#define SERIAL_NO_DEVICE        128</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#aa510e9a815c3fb95877501fdaa5bbc64">   86</a></span><span class="preprocessor">#define SERIAL_ERROR                    (2)</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a5d9d7f0493567ff278ab8c73ec57b84a">   87</a></span><span class="preprocessor">#define SERIAL_EOF                      (0x40)</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a7ee594b03d058efbef4f8259d27b3fe3">   88</a></span><span class="preprocessor">#define SERIAL_DEVICE_NOT_PRESENT       (0x80)</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html">   90</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../df/d12/structbufferinfo__s.html">bufferinfo_s</a> {</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a459d4ea4b2f3fda61cb46dda22abed1e">   91</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a459d4ea4b2f3fda61cb46dda22abed1e">mode</a>;     <span class="comment">/* Mode on this buffer */</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a4aaa308208b5d258fe31eb2b30fc62d3">   92</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a4aaa308208b5d258fe31eb2b30fc62d3">readmode</a>; <span class="comment">/* Is this channel for reading or writing */</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a225ab172b8ddf701493c63df8da95574">   93</a></span>    uint8_t *<a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a225ab172b8ddf701493c63df8da95574">buffer</a>;          <span class="comment">/* Use this to save data */</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a599aca6bb31014f54bd3d2e51bedb65a">   94</a></span>    uint8_t *<a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a599aca6bb31014f54bd3d2e51bedb65a">slot</a>;            <span class="comment">/* Save data for directory-slot */</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#ada074826e5ffc01ae21549b58634f29c">   95</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#ada074826e5ffc01ae21549b58634f29c">bufptr</a>;   <span class="comment">/* Use this to save/read data to disk */</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a7c9e6bf01f68f60046219561798e506d">   96</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a7c9e6bf01f68f60046219561798e506d">track</a>;    <span class="comment">/* which track is allocated for this sector */</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#ad752fbaa1f3c36084ea03d5d005d146e">   97</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#ad752fbaa1f3c36084ea03d5d005d146e">sector</a>;   <span class="comment">/*   (for write files only) */</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a069d0de4b72dfaa6d49a3a53134d1c91">   98</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a069d0de4b72dfaa6d49a3a53134d1c91">length</a>;   <span class="comment">/* Directory-read length */</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a171711b56d1114aa7b0d333aa5b764f0">   99</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a171711b56d1114aa7b0d333aa5b764f0">record</a>;   <span class="comment">/* Current record */</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a646fe4e2362e7a30baa6ad40350e81f1">  100</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a646fe4e2362e7a30baa6ad40350e81f1">partition</a>;<span class="comment">/* Current partition */</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a57eff916cb0b09d8296553270bc0ded6">  101</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a57eff916cb0b09d8296553270bc0ded6">partstart</a>;  <span class="comment">/* for 1581&#39;s: partition (and BAM) can be different for open files */</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#abfe72ffec637f58ac6255343cf5e19f6">  102</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#abfe72ffec637f58ac6255343cf5e19f6">partend</a>;</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#aec9d5436cc1f9f8ce5a58595e5564dcf">  103</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#aec9d5436cc1f9f8ce5a58595e5564dcf">small</a>;               <span class="comment">/* flag to enable small buffer reads on seq type files */</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a6b1d602f521d0789585e8ddbf68a63b3">  104</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a6b1d602f521d0789585e8ddbf68a63b3">timemode</a>;            <span class="comment">/* flag to enable time output on dir listings */</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a88ac71b6618d69af578d51233b8efd44">  106</a></span>    <a class="code hl_struct" href="../../d5/d87/structvdrive__dir__context__s.html">vdrive_dir_context_t</a> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a88ac71b6618d69af578d51233b8efd44">dir</a>; <span class="comment">/* directory listing context or directory entry */</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="comment">/* REL file information stored in buffers since we can have more than</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment">        one open */</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a7aeb8f0e312c791b4bb5b71db33aae66">  110</a></span>    uint8_t *<a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a7aeb8f0e312c791b4bb5b71db33aae66">side_sector</a>;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="comment">/* location of the side sectors */</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a843249ebcfc3c9996d217c69615a3038">  112</a></span>    uint8_t *<a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a843249ebcfc3c9996d217c69615a3038">side_sector_track</a>;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#ab62a9832ee999d75aed5f90edb1ff724">  113</a></span>    uint8_t *<a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#ab62a9832ee999d75aed5f90edb1ff724">side_sector_sector</a>;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a4a39ad2167d13069ca6ef9112c2fe14e">  115</a></span>    uint8_t *<a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a4a39ad2167d13069ca6ef9112c2fe14e">super_side_sector</a>;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="comment">/* location of the super side sector */</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#adcee4418e8127c3455f0e402a42f26c0">  117</a></span>    uint8_t <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#adcee4418e8127c3455f0e402a42f26c0">super_side_sector_track</a>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a25eb7da6a7054dfdd1955ee84f16b401">  118</a></span>    uint8_t <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a25eb7da6a7054dfdd1955ee84f16b401">super_side_sector_sector</a>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a23cd5107e4112c7b280d45c06f106977">  120</a></span>    uint8_t *<a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a23cd5107e4112c7b280d45c06f106977">buffer_next</a>;          <span class="comment">/* next buffer for rel file */</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a5a54404d81109fd6559f3b11ba483d96">  121</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a5a54404d81109fd6559f3b11ba483d96">track_next</a>;    <span class="comment">/* track for the next sector */</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#ae7f26032dab49c412ba1fbb18e602d14">  122</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#ae7f26032dab49c412ba1fbb18e602d14">sector_next</a>;   <span class="comment">/* sector for the next sector */</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a78fe2e06d507caeac23d1635722e3f1c">  124</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a78fe2e06d507caeac23d1635722e3f1c">record_max</a>;  <span class="comment">/* Max rel file record, inclusive */</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#ae15507eccb6f619cb38e3e60b10fcd49">  125</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#ae15507eccb6f619cb38e3e60b10fcd49">record_next</a>; <span class="comment">/* Buffer pointer to beginning of next record */</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a3557d9113ae49802201e411510131f6e">  126</a></span>    uint8_t *<a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a3557d9113ae49802201e411510131f6e">side_sector_needsupdate</a>;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#aaa90d47b142c9c48ac1857c6176894cf">  127</a></span>    uint8_t <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#aaa90d47b142c9c48ac1857c6176894cf">needsupdate</a>;         <span class="comment">/* true if the current sector needs to be</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><span class="comment">                                  written (from REL write) */</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno"><a class="line" href="../../df/d12/structbufferinfo__s.html#a3af663f5052421c0b6365200968eedd3">  129</a></span>    uint8_t <a class="code hl_variable" href="../../df/d12/structbufferinfo__s.html#a3af663f5052421c0b6365200968eedd3">super_side_sector_needsupdate</a>; <span class="comment">/* similar to above */</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a5d9a92ffe7eb28f18c8b0cf38f23a73f">  131</a></span>} <a class="code hl_typedef" href="../../d2/d32/vdrive_8h.html#a5d9a92ffe7eb28f18c8b0cf38f23a73f">bufferinfo_t</a>;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="keyword">struct </span><a class="code hl_struct" href="../../db/d31/structdisk__image__s.html">disk_image_s</a>;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html">  136</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_s</a> {</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a37a27cc5afce6f37e14c4cc6a33e5631">  137</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a37a27cc5afce6f37e14c4cc6a33e5631">unit</a>;         <span class="comment">/* IEC bus device number */</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a5d3d9cef5b38359d676b9aebcc3776ca">  139</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/d31/structdisk__image__s.html">disk_image_s</a> *<a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a5d3d9cef5b38359d676b9aebcc3776ca">images</a>[2]; <span class="comment">/* for dual drives */</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="comment">/* Current image file */</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#ae7ca629e449abf6bfa65b6ff7e820d4e">  142</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="../../db/d31/structdisk__image__s.html">disk_image_s</a> *<a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#ae7ca629e449abf6bfa65b6ff7e820d4e">image</a>;</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#af4d3c067ee607d6618745f179153bcf6">  143</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#af4d3c067ee607d6618745f179153bcf6">image_mode</a>;            <span class="comment">/* -1 no disk, 0 is write/read, 1 is read */</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#ab7f72524d27362ecf669cb6ef71b3978">  144</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#ab7f72524d27362ecf669cb6ef71b3978">image_format</a>; <span class="comment">/* 1541/71/81 */</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a40338bf3d38ab03d122ccc3373aefb00">  146</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a40338bf3d38ab03d122ccc3373aefb00">Bam_Track</a>;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a3386a55dbe7dd734076d081c22c4cd9b">  147</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a3386a55dbe7dd734076d081c22c4cd9b">Bam_Sector</a>;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#ac76e186d417f903d22325187d195692b">  148</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#ac76e186d417f903d22325187d195692b">bam_name</a>;     <span class="comment">/* Offset from start of BAM to disk name.   */</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a734fad6d804e00e1310cf636f140040a">  149</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a734fad6d804e00e1310cf636f140040a">bam_id</a>;       <span class="comment">/* Offset from start of BAM to disk ID.  */</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#adee17ffe0563ab93b48ad286b0d80f0e">  150</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#adee17ffe0563ab93b48ad286b0d80f0e">bam_state</a>[<a class="code hl_define" href="../../d2/d32/vdrive_8h.html#aff02b3fcd7a603c6d360a46a61bdeb5b">VDRIVE_BAM_MAX_STATES</a>];</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#aa43290ea9b153eddc6bd84212886d0e2">  151</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#aa43290ea9b153eddc6bd84212886d0e2">bam_tracks</a>[<a class="code hl_define" href="../../d2/d32/vdrive_8h.html#aff02b3fcd7a603c6d360a46a61bdeb5b">VDRIVE_BAM_MAX_STATES</a>];</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#aa2fa7a0bf9c84d492edce7b471b9e456">  152</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#aa2fa7a0bf9c84d492edce7b471b9e456">bam_sectors</a>[<a class="code hl_define" href="../../d2/d32/vdrive_8h.html#aff02b3fcd7a603c6d360a46a61bdeb5b">VDRIVE_BAM_MAX_STATES</a>];</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>                               <span class="comment">/* bam cache dirty (1 char per sector)  */</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>                               <span class="comment">/* -1 = not in mem, 0 = in mem, 1 = dirty */</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#acd9d20cf1c6f4b95d24f22ad4ed27295">  155</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#acd9d20cf1c6f4b95d24f22ad4ed27295">Header_Track</a>; <span class="comment">/* Directory header location */</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a37776778e960194afd624ffb8c0b7819">  156</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a37776778e960194afd624ffb8c0b7819">Header_Sector</a>;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#ae783d42e234d173dadac2c6ac877e228">  157</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#ae783d42e234d173dadac2c6ac877e228">Dir_Track</a>;    <span class="comment">/* First directory sector location */</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#aac4d81a602f3e995fe2c18022d67ea18">  158</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#aac4d81a602f3e995fe2c18022d67ea18">Dir_Sector</a>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a81db9bfcd819a8cfa99f9f22bb3509fe">  159</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a81db9bfcd819a8cfa99f9f22bb3509fe">num_tracks</a>;</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="comment">/* CBM partition first and last track (1581)</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="comment">     * Part_Start is 1, Part_End = num_tracks if no partition is used</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="comment">     */</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a532d13ddbfbb37c42faeff2331c05995">  163</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#afaef443369a6c4429f0b94ecb9adcee2">Part_Start</a>, <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a532d13ddbfbb37c42faeff2331c05995">Part_End</a>;</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="comment">/* CMD paritions */</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a8c5c155bfb45471ccd4b44fd78cbb131">  165</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a8c5c155bfb45471ccd4b44fd78cbb131">current_offset</a>;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#accf9977711ca7f1974a006331deace54">  166</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#accf9977711ca7f1974a006331deace54">sys_offset</a>;</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#aa019409b37463efdb8d50e88eec7d2fe">  167</a></span>    <span class="keywordtype">signed</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#aa019409b37463efdb8d50e88eec7d2fe">current_part</a>; <span class="comment">/* current part; one matching the bam loaded */</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#ae24b267b154161945cb054074fd713fa">  168</a></span>    <span class="keywordtype">signed</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#ae24b267b154161945cb054074fd713fa">selected_part</a>; <span class="comment">/* the &quot;currently selected&quot; partition, with CP command */</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a7573f7f700a0ed3f9560477e40e8abc4">  169</a></span>    <span class="keywordtype">signed</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a7573f7f700a0ed3f9560477e40e8abc4">default_part</a>; <span class="comment">/* the default one that is to be used on startup */</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a99f4dc07fe31f4613e5521cb14d43689">  170</a></span>    uint8_t <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a99f4dc07fe31f4613e5521cb14d43689">ptype</a>[256];</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a53acae87451a543ac6c21711d7889d87">  171</a></span>    uint32_t <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a53acae87451a543ac6c21711d7889d87">poffset</a>[256];</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a904325f8c4c7a190ac57b9967cc832be">  172</a></span>    uint32_t <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a904325f8c4c7a190ac57b9967cc832be">psize</a>[256];</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a17ba49e0fc5a2208ecf5cb3483f22eeb">  173</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a17ba49e0fc5a2208ecf5cb3483f22eeb">cheadertrack</a>[256];    <span class="comment">/* current header track and sector for each partition */</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#ad4ce93a6a1dff9e20b6015f814ab925f">  174</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#ad4ce93a6a1dff9e20b6015f814ab925f">cheadersector</a>[256];</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a206b337d5807f2a5202e46f5e7a42ee6">  175</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a206b337d5807f2a5202e46f5e7a42ee6">cdirtrack</a>[256];    <span class="comment">/* current directory track and sector for each partition */</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a6f3f6b40fc00e42510287f9a5fc48f27">  176</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a6f3f6b40fc00e42510287f9a5fc48f27">cdirsector</a>[256];</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a3e298d631be351e1f7c0a65f881fea08">  177</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a3e298d631be351e1f7c0a65f881fea08">cpartstart</a>[256];   <span class="comment">/* current partition start end and for each partition for 1581 */</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a9e7f86e087e57677be45cd8c0ed68ae1">  178</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a9e7f86e087e57677be45cd8c0ed68ae1">cpartend</a>[256];</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#ad6c790b3023cc5befad2ccc96e65b01d">  180</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#ad6c790b3023cc5befad2ccc96e65b01d">d90toggle</a>;    <span class="comment">/* D9090/60 new sector toggle */</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a0ec6412b2444101ce7f213c0f2075153">  181</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a0ec6412b2444101ce7f213c0f2075153">haspt</a>;                 <span class="comment">/* whether the connected disk supports partitions (not drives) */</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a5c37753fc867fd5589ca0e62994444f4">  182</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a5c37753fc867fd5589ca0e62994444f4">dir_part</a>;              <span class="comment">/* which drive to show first when doing group dirs */</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#ad24dd0aed3034ef129fe7f9d17037048">  183</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#ad24dd0aed3034ef129fe7f9d17037048">dir_count</a>;             <span class="comment">/* how many drives are left when doing group dirs */</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#afd536d9445a4385b5f700f985f77d731">  184</a></span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#afd536d9445a4385b5f700f985f77d731">last_code</a>;             <span class="comment">/* for command channel status string */</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a6d3f27ca498d20944d753a7b5fb792aa">  186</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a6d3f27ca498d20944d753a7b5fb792aa">bam_size</a>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#abab99a36b7efd086350323b38876c26c">  187</a></span>    uint8_t *<a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#abab99a36b7efd086350323b38876c26c">bam</a>;              <span class="comment">/* Disk header blk (if any) followed by BAM blocks */</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#aadbcc47676bc9fa050af4d6c6cea469f">  188</a></span>    <a class="code hl_struct" href="../../df/d12/structbufferinfo__s.html">bufferinfo_t</a> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#aadbcc47676bc9fa050af4d6c6cea469f">buffers</a>[16];</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <span class="comment">/* Memory read command buffer.  */</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a266cc9f77986698e922e9d54a1bb7f0e">  191</a></span>    uint8_t <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a266cc9f77986698e922e9d54a1bb7f0e">mem_buf</a>[256];</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#ac55b2da5da24fcc228e80a6601d968e4">  192</a></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#ac55b2da5da24fcc228e80a6601d968e4">mem_length</a>;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="comment">/* removed side sector data and placed it in buffer structure */</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="comment">/* BYTE *side_sector; */</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno"><a class="line" href="../../d1/dd7/structvdrive__s.html#a7405028a37a72cfc58e261a340811201">  197</a></span>    uint8_t <a class="code hl_variable" href="../../d1/dd7/structvdrive__s.html#a7405028a37a72cfc58e261a340811201">ram</a>[0x8000];</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a557dc29879bee7ba1f43e3acb2ffe1ba">  198</a></span>} <a class="code hl_typedef" href="../../d2/d32/vdrive_8h.html#a557dc29879bee7ba1f43e3acb2ffe1ba">vdrive_t</a>;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a5704bca85094d4db7dd19d47545f5470">  202</a></span><span class="preprocessor">#define FLOPPY_COMMAND_OK       0</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a0abcf3c9f874c67f7eebf3187ed43518">  203</a></span><span class="preprocessor">#define FLOPPY_ERROR            2</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#ae6a5ff09394fa7f37e87408034e2bcff">  208</a></span><span class="preprocessor">#define FD_OK           0</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a4802d40c96e134a3892f5e31fe1aee61">  209</a></span><span class="preprocessor">#define FD_EXIT         1       </span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a9ba9c132fcbf5cf207c87446a47b6686">  211</a></span><span class="preprocessor">#define FD_NOTREADY     -2</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a5b697888a719c47be7a63f1b16f6cb96">  212</a></span><span class="preprocessor">#define FD_CHANGED      -3      </span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a752e992700dbfb0b0ff6a09fdf506934">  213</a></span><span class="preprocessor">#define FD_NOTRD        -4</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a261e834edabcafe2f6393d00520be9d5">  214</a></span><span class="preprocessor">#define FD_NOTWRT       -5</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#ac026899e3d4f0c9aee642e9d365b2054">  215</a></span><span class="preprocessor">#define FD_WRTERR       -6</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a798401ce26d50c9cc353e0042823d890">  216</a></span><span class="preprocessor">#define FD_RDERR        -7</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a7ca6eeecbf31f85f5f51ca8fd60e9047">  217</a></span><span class="preprocessor">#define FD_INCOMP       -8      </span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#adf3f97a96f112d71e01464d95b3092a6">  218</a></span><span class="preprocessor">#define FD_BADIMAGE     -9      </span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#ac3c05d96e16226265543b6f20c401931">  219</a></span><span class="preprocessor">#define FD_BADNAME      -10     </span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a449a7dcd83f50d058d33bc1ac45b252e">  220</a></span><span class="preprocessor">#define FD_BADVAL       -11     </span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a67f9ccc477537a8e9b75b93add72653c">  221</a></span><span class="preprocessor">#define FD_BADDEV       -12</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a93fc659198753f15355a85b6258a356a">  222</a></span><span class="preprocessor">#define FD_BAD_TS       -13     </span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#afd5aa9584e7803108ad80b0c112d5315">  223</a></span><span class="preprocessor">#define FD_BAD_TRKNUM   -14     </span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#a424a2ec03eb1647b5b7a862601f49806">  224</a></span><span class="preprocessor">#define FD_BAD_SECNUM   -15     </span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#ae6ae3d4a1bf47a299958bd1fb356f792">  227</a></span><span class="preprocessor">#define CHK_NUM         0</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno"><a class="line" href="../../d2/d32/vdrive_8h.html#ace398fa42ec66d607fef0eaa5c389130">  228</a></span><span class="preprocessor">#define CHK_RDY         1</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span> </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span> </div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a023259afe028ac85b82c2ea211f411c6">vdrive_init</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#af3fb58b042e187185535b8eaa2a07817">vdrive_device_setup</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> unit);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#acb1857f0580702431cdf1e568e135b12">vdrive_device_shutdown</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>);</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a15e5917fe999eb1e67399596e3754129">vdrive_attach_image</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../db/d31/structdisk__image__s.html">disk_image_s</a> *image, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> unit, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> drive, <a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>);</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#adde2a25b776cb3ddbb4e1b6d8a32d0ef">vdrive_detach_image</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../db/d31/structdisk__image__s.html">disk_image_s</a> *image, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> unit, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> drive, <a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>);</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#afcd1ef090101425e5867d22d33414efc">vdrive_close_all_channels</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>);</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a3a4f5f487d0f5991cb189f16902b74f2">vdrive_close_all_channels_partition</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keywordtype">int</span> part);</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a0f2784317804768cfa23aa1c3192a7c1">vdrive_get_max_sectors</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> track);</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a3b2c5915d5e6e371bfa976b3bcc52efe">vdrive_get_max_sectors_per_head</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> track);</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a869e20d6e312c56819cdc8e75364a687">vdrive_get_last_read</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *track, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *sector, uint8_t **<a class="code hl_variable" href="../../d8/dac/archdep__program__path_8c.html#ad4dd87b4450b53174cf4de024be2b167">buffer</a>);</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#af275a9fcbb9515f4a8771ebe8db0b962">vdrive_set_last_read</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> track, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sector, uint8_t *<a class="code hl_variable" href="../../d8/dac/archdep__program__path_8c.html#ad4dd87b4450b53174cf4de024be2b167">buffer</a>);</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span> </div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a1b52b96c830c75f97b63ff8007018288">vdrive_alloc_buffer</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../df/d12/structbufferinfo__s.html">bufferinfo_s</a> *p, <span class="keywordtype">int</span> mode);</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a7dc657f42a0baf8b306c12a7456c9f6b">vdrive_free_buffer</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../df/d12/structbufferinfo__s.html">bufferinfo_s</a> *p);</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a53bf7de986b9b008fed714dab03eda15">vdrive_set_disk_geometry</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a3c1f958ea77a3d57f177c410b40d1765">vdrive_read_sector</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, uint8_t *<a class="code hl_typedef" href="../../d2/dec/opencbmlib_8h.html#a91b5e8d02df089da7f2d9f7f32506b34">buf</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> track, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sector);</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#aee7b900285bf73d941c44d555f626d4f">vdrive_write_sector</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keyword">const</span> uint8_t *<a class="code hl_typedef" href="../../d2/dec/opencbmlib_8h.html#a91b5e8d02df089da7f2d9f7f32506b34">buf</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> track, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sector);</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a48dc3eedaa95e7d2a59a8401d227acd2">vdrive_read_sector_physical</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, uint8_t *<a class="code hl_typedef" href="../../d2/dec/opencbmlib_8h.html#a91b5e8d02df089da7f2d9f7f32506b34">buf</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> track, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sector);</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#ac0788db7da0d7b96a31868243cca6497">vdrive_write_sector_physical</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keyword">const</span> uint8_t *<a class="code hl_typedef" href="../../d2/dec/opencbmlib_8h.html#a91b5e8d02df089da7f2d9f7f32506b34">buf</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> track, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sector);</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span><span class="keyword">struct </span><a class="code hl_struct" href="../../db/d31/structdisk__image__s.html">disk_image_s</a> *<a class="code hl_function" href="../../d2/d32/vdrive_8h.html#aa4b83c6713b57fcf413d1310c95a4153">vdrive_get_image</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> drive);</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#aac8c185818cd540e9120bf07b01f4364">vdrive_refresh</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> unit);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a4dfeb0ac1ad24c4a22fa59da8b194a63">vdrive_flush</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> unit);</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#ad01764824ca84eec7fc2c804ed0f7b0e">vdrive_find_sys</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>);</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#aa49a04e014fc67d79bde3895c00acbff">vdrive_read_partition_table</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>);</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a04ce5af79b501d5213e23b5b14ccf3ce">vdrive_ispartvalid</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keywordtype">int</span> part);</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#af1f89cf46293441eadf0094562543319">vdrive_write_partition_table</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>);</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#ae80f814126dcf8141db13ecf5f51f043">vdrive_pack_parts</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>);</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a39d15d951f3fffeacbee5e3088c0e105">vdrive_switch</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keywordtype">int</span> part);</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#a4ff5c20bdd313acb7827b4296ef66c16">vdrive_realpart</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keywordtype">int</span> part);</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#aec6b5c38215c09cccb4b909be2346577">vdrive_ext_read_sector</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keywordtype">int</span> drive, uint8_t *<a class="code hl_typedef" href="../../d2/dec/opencbmlib_8h.html#a91b5e8d02df089da7f2d9f7f32506b34">buf</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> track, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sector);</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d2/d32/vdrive_8h.html#aff875cfa68f454e72605e14a5ea1fcdd">vdrive_ext_write_sector</a>(<a class="code hl_struct" href="../../d1/dd7/structvdrive__s.html">vdrive_t</a> *<a class="code hl_variable" href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a>, <span class="keywordtype">int</span> drive, <span class="keyword">const</span> uint8_t *<a class="code hl_typedef" href="../../d2/dec/opencbmlib_8h.html#a91b5e8d02df089da7f2d9f7f32506b34">buf</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> track, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sector);</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span><span class="preprocessor">#endif</span></div>
<div class="ttc" id="aarchdep__program__path_8c_html_ad4dd87b4450b53174cf4de024be2b167"><div class="ttname"><a href="../../d8/dac/archdep__program__path_8c.html#ad4dd87b4450b53174cf4de024be2b167">buffer</a></div><div class="ttdeci">static char buffer[PATH_MAX]</div><div class="ttdoc">Buffer used to retrieve pathnames.</div><div class="ttdef"><b>Definition:</b> archdep_program_path.c:90</div></div>
<div class="ttc" id="amon__file_8c_html_a95f43a838559bb0b2cc639b01d50dbbf"><div class="ttname"><a href="../../d9/d08/mon__file_8c.html#a95f43a838559bb0b2cc639b01d50dbbf">vdrive</a></div><div class="ttdeci">static vdrive_t * vdrive</div><div class="ttdef"><b>Definition:</b> mon_file.c:68</div></div>
<div class="ttc" id="aopencbmlib_8h_html_a91b5e8d02df089da7f2d9f7f32506b34"><div class="ttname"><a href="../../d2/dec/opencbmlib_8h.html#a91b5e8d02df089da7f2d9f7f32506b34">buf</a></div><div class="ttdeci">void * buf</div><div class="ttdef"><b>Definition:</b> opencbmlib.h:44</div></div>
<div class="ttc" id="astructbufferinfo__s_html"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html">bufferinfo_s</a></div><div class="ttdef"><b>Definition:</b> vdrive.h:90</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a069d0de4b72dfaa6d49a3a53134d1c91"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a069d0de4b72dfaa6d49a3a53134d1c91">bufferinfo_s::length</a></div><div class="ttdeci">unsigned int length</div><div class="ttdef"><b>Definition:</b> vdrive.h:98</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a171711b56d1114aa7b0d333aa5b764f0"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a171711b56d1114aa7b0d333aa5b764f0">bufferinfo_s::record</a></div><div class="ttdeci">unsigned int record</div><div class="ttdef"><b>Definition:</b> vdrive.h:99</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a225ab172b8ddf701493c63df8da95574"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a225ab172b8ddf701493c63df8da95574">bufferinfo_s::buffer</a></div><div class="ttdeci">uint8_t * buffer</div><div class="ttdef"><b>Definition:</b> vdrive.h:93</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a23cd5107e4112c7b280d45c06f106977"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a23cd5107e4112c7b280d45c06f106977">bufferinfo_s::buffer_next</a></div><div class="ttdeci">uint8_t * buffer_next</div><div class="ttdef"><b>Definition:</b> vdrive.h:120</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a25eb7da6a7054dfdd1955ee84f16b401"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a25eb7da6a7054dfdd1955ee84f16b401">bufferinfo_s::super_side_sector_sector</a></div><div class="ttdeci">uint8_t super_side_sector_sector</div><div class="ttdef"><b>Definition:</b> vdrive.h:118</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a3557d9113ae49802201e411510131f6e"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a3557d9113ae49802201e411510131f6e">bufferinfo_s::side_sector_needsupdate</a></div><div class="ttdeci">uint8_t * side_sector_needsupdate</div><div class="ttdef"><b>Definition:</b> vdrive.h:126</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a3af663f5052421c0b6365200968eedd3"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a3af663f5052421c0b6365200968eedd3">bufferinfo_s::super_side_sector_needsupdate</a></div><div class="ttdeci">uint8_t super_side_sector_needsupdate</div><div class="ttdef"><b>Definition:</b> vdrive.h:129</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a459d4ea4b2f3fda61cb46dda22abed1e"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a459d4ea4b2f3fda61cb46dda22abed1e">bufferinfo_s::mode</a></div><div class="ttdeci">unsigned int mode</div><div class="ttdef"><b>Definition:</b> vdrive.h:91</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a4a39ad2167d13069ca6ef9112c2fe14e"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a4a39ad2167d13069ca6ef9112c2fe14e">bufferinfo_s::super_side_sector</a></div><div class="ttdeci">uint8_t * super_side_sector</div><div class="ttdef"><b>Definition:</b> vdrive.h:115</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a4aaa308208b5d258fe31eb2b30fc62d3"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a4aaa308208b5d258fe31eb2b30fc62d3">bufferinfo_s::readmode</a></div><div class="ttdeci">unsigned int readmode</div><div class="ttdef"><b>Definition:</b> vdrive.h:92</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a57eff916cb0b09d8296553270bc0ded6"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a57eff916cb0b09d8296553270bc0ded6">bufferinfo_s::partstart</a></div><div class="ttdeci">unsigned int partstart</div><div class="ttdef"><b>Definition:</b> vdrive.h:101</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a599aca6bb31014f54bd3d2e51bedb65a"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a599aca6bb31014f54bd3d2e51bedb65a">bufferinfo_s::slot</a></div><div class="ttdeci">uint8_t * slot</div><div class="ttdef"><b>Definition:</b> vdrive.h:94</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a5a54404d81109fd6559f3b11ba483d96"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a5a54404d81109fd6559f3b11ba483d96">bufferinfo_s::track_next</a></div><div class="ttdeci">unsigned int track_next</div><div class="ttdef"><b>Definition:</b> vdrive.h:121</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a646fe4e2362e7a30baa6ad40350e81f1"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a646fe4e2362e7a30baa6ad40350e81f1">bufferinfo_s::partition</a></div><div class="ttdeci">unsigned int partition</div><div class="ttdef"><b>Definition:</b> vdrive.h:100</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a6b1d602f521d0789585e8ddbf68a63b3"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a6b1d602f521d0789585e8ddbf68a63b3">bufferinfo_s::timemode</a></div><div class="ttdeci">int timemode</div><div class="ttdef"><b>Definition:</b> vdrive.h:104</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a78fe2e06d507caeac23d1635722e3f1c"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a78fe2e06d507caeac23d1635722e3f1c">bufferinfo_s::record_max</a></div><div class="ttdeci">unsigned int record_max</div><div class="ttdef"><b>Definition:</b> vdrive.h:124</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a7aeb8f0e312c791b4bb5b71db33aae66"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a7aeb8f0e312c791b4bb5b71db33aae66">bufferinfo_s::side_sector</a></div><div class="ttdeci">uint8_t * side_sector</div><div class="ttdef"><b>Definition:</b> vdrive.h:110</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a7c9e6bf01f68f60046219561798e506d"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a7c9e6bf01f68f60046219561798e506d">bufferinfo_s::track</a></div><div class="ttdeci">unsigned int track</div><div class="ttdef"><b>Definition:</b> vdrive.h:96</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a843249ebcfc3c9996d217c69615a3038"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a843249ebcfc3c9996d217c69615a3038">bufferinfo_s::side_sector_track</a></div><div class="ttdeci">uint8_t * side_sector_track</div><div class="ttdef"><b>Definition:</b> vdrive.h:112</div></div>
<div class="ttc" id="astructbufferinfo__s_html_a88ac71b6618d69af578d51233b8efd44"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#a88ac71b6618d69af578d51233b8efd44">bufferinfo_s::dir</a></div><div class="ttdeci">vdrive_dir_context_t dir</div><div class="ttdef"><b>Definition:</b> vdrive.h:106</div></div>
<div class="ttc" id="astructbufferinfo__s_html_aaa90d47b142c9c48ac1857c6176894cf"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#aaa90d47b142c9c48ac1857c6176894cf">bufferinfo_s::needsupdate</a></div><div class="ttdeci">uint8_t needsupdate</div><div class="ttdef"><b>Definition:</b> vdrive.h:127</div></div>
<div class="ttc" id="astructbufferinfo__s_html_ab62a9832ee999d75aed5f90edb1ff724"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#ab62a9832ee999d75aed5f90edb1ff724">bufferinfo_s::side_sector_sector</a></div><div class="ttdeci">uint8_t * side_sector_sector</div><div class="ttdef"><b>Definition:</b> vdrive.h:113</div></div>
<div class="ttc" id="astructbufferinfo__s_html_abfe72ffec637f58ac6255343cf5e19f6"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#abfe72ffec637f58ac6255343cf5e19f6">bufferinfo_s::partend</a></div><div class="ttdeci">unsigned int partend</div><div class="ttdef"><b>Definition:</b> vdrive.h:102</div></div>
<div class="ttc" id="astructbufferinfo__s_html_ad752fbaa1f3c36084ea03d5d005d146e"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#ad752fbaa1f3c36084ea03d5d005d146e">bufferinfo_s::sector</a></div><div class="ttdeci">unsigned int sector</div><div class="ttdef"><b>Definition:</b> vdrive.h:97</div></div>
<div class="ttc" id="astructbufferinfo__s_html_ada074826e5ffc01ae21549b58634f29c"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#ada074826e5ffc01ae21549b58634f29c">bufferinfo_s::bufptr</a></div><div class="ttdeci">unsigned int bufptr</div><div class="ttdef"><b>Definition:</b> vdrive.h:95</div></div>
<div class="ttc" id="astructbufferinfo__s_html_adcee4418e8127c3455f0e402a42f26c0"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#adcee4418e8127c3455f0e402a42f26c0">bufferinfo_s::super_side_sector_track</a></div><div class="ttdeci">uint8_t super_side_sector_track</div><div class="ttdef"><b>Definition:</b> vdrive.h:117</div></div>
<div class="ttc" id="astructbufferinfo__s_html_ae15507eccb6f619cb38e3e60b10fcd49"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#ae15507eccb6f619cb38e3e60b10fcd49">bufferinfo_s::record_next</a></div><div class="ttdeci">unsigned int record_next</div><div class="ttdef"><b>Definition:</b> vdrive.h:125</div></div>
<div class="ttc" id="astructbufferinfo__s_html_ae7f26032dab49c412ba1fbb18e602d14"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#ae7f26032dab49c412ba1fbb18e602d14">bufferinfo_s::sector_next</a></div><div class="ttdeci">unsigned int sector_next</div><div class="ttdef"><b>Definition:</b> vdrive.h:122</div></div>
<div class="ttc" id="astructbufferinfo__s_html_aec9d5436cc1f9f8ce5a58595e5564dcf"><div class="ttname"><a href="../../df/d12/structbufferinfo__s.html#aec9d5436cc1f9f8ce5a58595e5564dcf">bufferinfo_s::small</a></div><div class="ttdeci">int small</div><div class="ttdef"><b>Definition:</b> vdrive.h:103</div></div>
<div class="ttc" id="astructdisk__image__s_html"><div class="ttname"><a href="../../db/d31/structdisk__image__s.html">disk_image_s</a></div><div class="ttdef"><b>Definition:</b> diskimage.h:89</div></div>
<div class="ttc" id="astructvdrive__dir__context__s_html"><div class="ttname"><a href="../../d5/d87/structvdrive__dir__context__s.html">vdrive_dir_context_s</a></div><div class="ttdef"><b>Definition:</b> vdrive-dir.h:64</div></div>
<div class="ttc" id="astructvdrive__s_html"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html">vdrive_s</a></div><div class="ttdoc">Run-time data struct for each drive.</div><div class="ttdef"><b>Definition:</b> vdrive.h:136</div></div>
<div class="ttc" id="astructvdrive__s_html_a0ec6412b2444101ce7f213c0f2075153"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a0ec6412b2444101ce7f213c0f2075153">vdrive_s::haspt</a></div><div class="ttdeci">int haspt</div><div class="ttdef"><b>Definition:</b> vdrive.h:181</div></div>
<div class="ttc" id="astructvdrive__s_html_a17ba49e0fc5a2208ecf5cb3483f22eeb"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a17ba49e0fc5a2208ecf5cb3483f22eeb">vdrive_s::cheadertrack</a></div><div class="ttdeci">unsigned int cheadertrack[256]</div><div class="ttdef"><b>Definition:</b> vdrive.h:173</div></div>
<div class="ttc" id="astructvdrive__s_html_a206b337d5807f2a5202e46f5e7a42ee6"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a206b337d5807f2a5202e46f5e7a42ee6">vdrive_s::cdirtrack</a></div><div class="ttdeci">unsigned int cdirtrack[256]</div><div class="ttdef"><b>Definition:</b> vdrive.h:175</div></div>
<div class="ttc" id="astructvdrive__s_html_a266cc9f77986698e922e9d54a1bb7f0e"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a266cc9f77986698e922e9d54a1bb7f0e">vdrive_s::mem_buf</a></div><div class="ttdeci">uint8_t mem_buf[256]</div><div class="ttdef"><b>Definition:</b> vdrive.h:191</div></div>
<div class="ttc" id="astructvdrive__s_html_a3386a55dbe7dd734076d081c22c4cd9b"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a3386a55dbe7dd734076d081c22c4cd9b">vdrive_s::Bam_Sector</a></div><div class="ttdeci">unsigned int Bam_Sector</div><div class="ttdef"><b>Definition:</b> vdrive.h:147</div></div>
<div class="ttc" id="astructvdrive__s_html_a37776778e960194afd624ffb8c0b7819"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a37776778e960194afd624ffb8c0b7819">vdrive_s::Header_Sector</a></div><div class="ttdeci">unsigned int Header_Sector</div><div class="ttdef"><b>Definition:</b> vdrive.h:156</div></div>
<div class="ttc" id="astructvdrive__s_html_a37a27cc5afce6f37e14c4cc6a33e5631"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a37a27cc5afce6f37e14c4cc6a33e5631">vdrive_s::unit</a></div><div class="ttdeci">unsigned int unit</div><div class="ttdef"><b>Definition:</b> vdrive.h:137</div></div>
<div class="ttc" id="astructvdrive__s_html_a3e298d631be351e1f7c0a65f881fea08"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a3e298d631be351e1f7c0a65f881fea08">vdrive_s::cpartstart</a></div><div class="ttdeci">unsigned int cpartstart[256]</div><div class="ttdef"><b>Definition:</b> vdrive.h:177</div></div>
<div class="ttc" id="astructvdrive__s_html_a40338bf3d38ab03d122ccc3373aefb00"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a40338bf3d38ab03d122ccc3373aefb00">vdrive_s::Bam_Track</a></div><div class="ttdeci">unsigned int Bam_Track</div><div class="ttdef"><b>Definition:</b> vdrive.h:146</div></div>
<div class="ttc" id="astructvdrive__s_html_a532d13ddbfbb37c42faeff2331c05995"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a532d13ddbfbb37c42faeff2331c05995">vdrive_s::Part_End</a></div><div class="ttdeci">unsigned int Part_End</div><div class="ttdef"><b>Definition:</b> vdrive.h:163</div></div>
<div class="ttc" id="astructvdrive__s_html_a53acae87451a543ac6c21711d7889d87"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a53acae87451a543ac6c21711d7889d87">vdrive_s::poffset</a></div><div class="ttdeci">uint32_t poffset[256]</div><div class="ttdef"><b>Definition:</b> vdrive.h:171</div></div>
<div class="ttc" id="astructvdrive__s_html_a5c37753fc867fd5589ca0e62994444f4"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a5c37753fc867fd5589ca0e62994444f4">vdrive_s::dir_part</a></div><div class="ttdeci">int dir_part</div><div class="ttdef"><b>Definition:</b> vdrive.h:182</div></div>
<div class="ttc" id="astructvdrive__s_html_a5d3d9cef5b38359d676b9aebcc3776ca"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a5d3d9cef5b38359d676b9aebcc3776ca">vdrive_s::images</a></div><div class="ttdeci">struct disk_image_s * images[2]</div><div class="ttdef"><b>Definition:</b> vdrive.h:139</div></div>
<div class="ttc" id="astructvdrive__s_html_a6d3f27ca498d20944d753a7b5fb792aa"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a6d3f27ca498d20944d753a7b5fb792aa">vdrive_s::bam_size</a></div><div class="ttdeci">unsigned int bam_size</div><div class="ttdef"><b>Definition:</b> vdrive.h:186</div></div>
<div class="ttc" id="astructvdrive__s_html_a6f3f6b40fc00e42510287f9a5fc48f27"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a6f3f6b40fc00e42510287f9a5fc48f27">vdrive_s::cdirsector</a></div><div class="ttdeci">unsigned int cdirsector[256]</div><div class="ttdef"><b>Definition:</b> vdrive.h:176</div></div>
<div class="ttc" id="astructvdrive__s_html_a734fad6d804e00e1310cf636f140040a"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a734fad6d804e00e1310cf636f140040a">vdrive_s::bam_id</a></div><div class="ttdeci">unsigned int bam_id</div><div class="ttdef"><b>Definition:</b> vdrive.h:149</div></div>
<div class="ttc" id="astructvdrive__s_html_a7405028a37a72cfc58e261a340811201"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a7405028a37a72cfc58e261a340811201">vdrive_s::ram</a></div><div class="ttdeci">uint8_t ram[0x8000]</div><div class="ttdef"><b>Definition:</b> vdrive.h:197</div></div>
<div class="ttc" id="astructvdrive__s_html_a7573f7f700a0ed3f9560477e40e8abc4"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a7573f7f700a0ed3f9560477e40e8abc4">vdrive_s::default_part</a></div><div class="ttdeci">signed int default_part</div><div class="ttdef"><b>Definition:</b> vdrive.h:169</div></div>
<div class="ttc" id="astructvdrive__s_html_a81db9bfcd819a8cfa99f9f22bb3509fe"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a81db9bfcd819a8cfa99f9f22bb3509fe">vdrive_s::num_tracks</a></div><div class="ttdeci">unsigned int num_tracks</div><div class="ttdef"><b>Definition:</b> vdrive.h:159</div></div>
<div class="ttc" id="astructvdrive__s_html_a8c5c155bfb45471ccd4b44fd78cbb131"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a8c5c155bfb45471ccd4b44fd78cbb131">vdrive_s::current_offset</a></div><div class="ttdeci">unsigned int current_offset</div><div class="ttdef"><b>Definition:</b> vdrive.h:165</div></div>
<div class="ttc" id="astructvdrive__s_html_a904325f8c4c7a190ac57b9967cc832be"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a904325f8c4c7a190ac57b9967cc832be">vdrive_s::psize</a></div><div class="ttdeci">uint32_t psize[256]</div><div class="ttdef"><b>Definition:</b> vdrive.h:172</div></div>
<div class="ttc" id="astructvdrive__s_html_a99f4dc07fe31f4613e5521cb14d43689"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a99f4dc07fe31f4613e5521cb14d43689">vdrive_s::ptype</a></div><div class="ttdeci">uint8_t ptype[256]</div><div class="ttdef"><b>Definition:</b> vdrive.h:170</div></div>
<div class="ttc" id="astructvdrive__s_html_a9e7f86e087e57677be45cd8c0ed68ae1"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#a9e7f86e087e57677be45cd8c0ed68ae1">vdrive_s::cpartend</a></div><div class="ttdeci">unsigned int cpartend[256]</div><div class="ttdef"><b>Definition:</b> vdrive.h:178</div></div>
<div class="ttc" id="astructvdrive__s_html_aa019409b37463efdb8d50e88eec7d2fe"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#aa019409b37463efdb8d50e88eec7d2fe">vdrive_s::current_part</a></div><div class="ttdeci">signed int current_part</div><div class="ttdef"><b>Definition:</b> vdrive.h:167</div></div>
<div class="ttc" id="astructvdrive__s_html_aa2fa7a0bf9c84d492edce7b471b9e456"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#aa2fa7a0bf9c84d492edce7b471b9e456">vdrive_s::bam_sectors</a></div><div class="ttdeci">int bam_sectors[33]</div><div class="ttdef"><b>Definition:</b> vdrive.h:152</div></div>
<div class="ttc" id="astructvdrive__s_html_aa43290ea9b153eddc6bd84212886d0e2"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#aa43290ea9b153eddc6bd84212886d0e2">vdrive_s::bam_tracks</a></div><div class="ttdeci">int bam_tracks[33]</div><div class="ttdef"><b>Definition:</b> vdrive.h:151</div></div>
<div class="ttc" id="astructvdrive__s_html_aac4d81a602f3e995fe2c18022d67ea18"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#aac4d81a602f3e995fe2c18022d67ea18">vdrive_s::Dir_Sector</a></div><div class="ttdeci">unsigned int Dir_Sector</div><div class="ttdef"><b>Definition:</b> vdrive.h:158</div></div>
<div class="ttc" id="astructvdrive__s_html_aadbcc47676bc9fa050af4d6c6cea469f"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#aadbcc47676bc9fa050af4d6c6cea469f">vdrive_s::buffers</a></div><div class="ttdeci">bufferinfo_t buffers[16]</div><div class="ttdef"><b>Definition:</b> vdrive.h:188</div></div>
<div class="ttc" id="astructvdrive__s_html_ab7f72524d27362ecf669cb6ef71b3978"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#ab7f72524d27362ecf669cb6ef71b3978">vdrive_s::image_format</a></div><div class="ttdeci">unsigned int image_format</div><div class="ttdef"><b>Definition:</b> vdrive.h:144</div></div>
<div class="ttc" id="astructvdrive__s_html_abab99a36b7efd086350323b38876c26c"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#abab99a36b7efd086350323b38876c26c">vdrive_s::bam</a></div><div class="ttdeci">uint8_t * bam</div><div class="ttdef"><b>Definition:</b> vdrive.h:187</div></div>
<div class="ttc" id="astructvdrive__s_html_ac55b2da5da24fcc228e80a6601d968e4"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#ac55b2da5da24fcc228e80a6601d968e4">vdrive_s::mem_length</a></div><div class="ttdeci">unsigned int mem_length</div><div class="ttdef"><b>Definition:</b> vdrive.h:192</div></div>
<div class="ttc" id="astructvdrive__s_html_ac76e186d417f903d22325187d195692b"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#ac76e186d417f903d22325187d195692b">vdrive_s::bam_name</a></div><div class="ttdeci">unsigned int bam_name</div><div class="ttdef"><b>Definition:</b> vdrive.h:148</div></div>
<div class="ttc" id="astructvdrive__s_html_accf9977711ca7f1974a006331deace54"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#accf9977711ca7f1974a006331deace54">vdrive_s::sys_offset</a></div><div class="ttdeci">unsigned int sys_offset</div><div class="ttdef"><b>Definition:</b> vdrive.h:166</div></div>
<div class="ttc" id="astructvdrive__s_html_acd9d20cf1c6f4b95d24f22ad4ed27295"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#acd9d20cf1c6f4b95d24f22ad4ed27295">vdrive_s::Header_Track</a></div><div class="ttdeci">unsigned int Header_Track</div><div class="ttdef"><b>Definition:</b> vdrive.h:155</div></div>
<div class="ttc" id="astructvdrive__s_html_ad24dd0aed3034ef129fe7f9d17037048"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#ad24dd0aed3034ef129fe7f9d17037048">vdrive_s::dir_count</a></div><div class="ttdeci">int dir_count</div><div class="ttdef"><b>Definition:</b> vdrive.h:183</div></div>
<div class="ttc" id="astructvdrive__s_html_ad4ce93a6a1dff9e20b6015f814ab925f"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#ad4ce93a6a1dff9e20b6015f814ab925f">vdrive_s::cheadersector</a></div><div class="ttdeci">unsigned int cheadersector[256]</div><div class="ttdef"><b>Definition:</b> vdrive.h:174</div></div>
<div class="ttc" id="astructvdrive__s_html_ad6c790b3023cc5befad2ccc96e65b01d"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#ad6c790b3023cc5befad2ccc96e65b01d">vdrive_s::d90toggle</a></div><div class="ttdeci">unsigned int d90toggle</div><div class="ttdef"><b>Definition:</b> vdrive.h:180</div></div>
<div class="ttc" id="astructvdrive__s_html_adee17ffe0563ab93b48ad286b0d80f0e"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#adee17ffe0563ab93b48ad286b0d80f0e">vdrive_s::bam_state</a></div><div class="ttdeci">int bam_state[33]</div><div class="ttdef"><b>Definition:</b> vdrive.h:150</div></div>
<div class="ttc" id="astructvdrive__s_html_ae24b267b154161945cb054074fd713fa"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#ae24b267b154161945cb054074fd713fa">vdrive_s::selected_part</a></div><div class="ttdeci">signed int selected_part</div><div class="ttdef"><b>Definition:</b> vdrive.h:168</div></div>
<div class="ttc" id="astructvdrive__s_html_ae783d42e234d173dadac2c6ac877e228"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#ae783d42e234d173dadac2c6ac877e228">vdrive_s::Dir_Track</a></div><div class="ttdeci">unsigned int Dir_Track</div><div class="ttdef"><b>Definition:</b> vdrive.h:157</div></div>
<div class="ttc" id="astructvdrive__s_html_ae7ca629e449abf6bfa65b6ff7e820d4e"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#ae7ca629e449abf6bfa65b6ff7e820d4e">vdrive_s::image</a></div><div class="ttdeci">struct disk_image_s * image</div><div class="ttdef"><b>Definition:</b> vdrive.h:142</div></div>
<div class="ttc" id="astructvdrive__s_html_af4d3c067ee607d6618745f179153bcf6"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#af4d3c067ee607d6618745f179153bcf6">vdrive_s::image_mode</a></div><div class="ttdeci">int image_mode</div><div class="ttdef"><b>Definition:</b> vdrive.h:143</div></div>
<div class="ttc" id="astructvdrive__s_html_afaef443369a6c4429f0b94ecb9adcee2"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#afaef443369a6c4429f0b94ecb9adcee2">vdrive_s::Part_Start</a></div><div class="ttdeci">unsigned int Part_Start</div><div class="ttdef"><b>Definition:</b> vdrive.h:163</div></div>
<div class="ttc" id="astructvdrive__s_html_afd536d9445a4385b5f700f985f77d731"><div class="ttname"><a href="../../d1/dd7/structvdrive__s.html#afd536d9445a4385b5f700f985f77d731">vdrive_s::last_code</a></div><div class="ttdeci">int last_code</div><div class="ttdef"><b>Definition:</b> vdrive.h:184</div></div>
<div class="ttc" id="atypes_8h_html"><div class="ttname"><a href="../../d9/d49/types_8h.html">types.h</a></div><div class="ttdoc">Type definitions for VICE.</div></div>
<div class="ttc" id="avdrive-dir_8h_html"><div class="ttname"><a href="../../dd/d1d/vdrive-dir_8h.html">vdrive-dir.h</a></div></div>
<div class="ttc" id="avdrive_8h_html_a023259afe028ac85b82c2ea211f411c6"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a023259afe028ac85b82c2ea211f411c6">vdrive_init</a></div><div class="ttdeci">void vdrive_init(void)</div><div class="ttdef"><b>Definition:</b> vdrive.c:77</div></div>
<div class="ttc" id="avdrive_8h_html_a04ce5af79b501d5213e23b5b14ccf3ce"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a04ce5af79b501d5213e23b5b14ccf3ce">vdrive_ispartvalid</a></div><div class="ttdeci">int vdrive_ispartvalid(vdrive_t *vdrive, int part)</div><div class="ttdef"><b>Definition:</b> vdrive.c:1359</div></div>
<div class="ttc" id="avdrive_8h_html_a0f2784317804768cfa23aa1c3192a7c1"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a0f2784317804768cfa23aa1c3192a7c1">vdrive_get_max_sectors</a></div><div class="ttdeci">int vdrive_get_max_sectors(vdrive_t *vdrive, unsigned int track)</div><div class="ttdef"><b>Definition:</b> vdrive.c:287</div></div>
<div class="ttc" id="avdrive_8h_html_a15e5917fe999eb1e67399596e3754129"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a15e5917fe999eb1e67399596e3754129">vdrive_attach_image</a></div><div class="ttdeci">int vdrive_attach_image(struct disk_image_s *image, unsigned int unit, unsigned int drive, vdrive_t *vdrive)</div><div class="ttdef"><b>Definition:</b> vdrive.c:384</div></div>
<div class="ttc" id="avdrive_8h_html_a1b52b96c830c75f97b63ff8007018288"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a1b52b96c830c75f97b63ff8007018288">vdrive_alloc_buffer</a></div><div class="ttdeci">void vdrive_alloc_buffer(struct bufferinfo_s *p, int mode)</div><div class="ttdef"><b>Definition:</b> vdrive.c:104</div></div>
<div class="ttc" id="avdrive_8h_html_a39d15d951f3fffeacbee5e3088c0e105"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a39d15d951f3fffeacbee5e3088c0e105">vdrive_switch</a></div><div class="ttdeci">int vdrive_switch(vdrive_t *vdrive, int part)</div><div class="ttdoc">0 okay, anything else, bad</div><div class="ttdef"><b>Definition:</b> vdrive.c:1579</div></div>
<div class="ttc" id="avdrive_8h_html_a3a4f5f487d0f5991cb189f16902b74f2"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a3a4f5f487d0f5991cb189f16902b74f2">vdrive_close_all_channels_partition</a></div><div class="ttdeci">void vdrive_close_all_channels_partition(vdrive_t *vdrive, int part)</div><div class="ttdef"><b>Definition:</b> vdrive.c:268</div></div>
<div class="ttc" id="avdrive_8h_html_a3b2c5915d5e6e371bfa976b3bcc52efe"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a3b2c5915d5e6e371bfa976b3bcc52efe">vdrive_get_max_sectors_per_head</a></div><div class="ttdeci">int vdrive_get_max_sectors_per_head(vdrive_t *vdrive, unsigned int track)</div><div class="ttdef"><b>Definition:</b> vdrive.c:322</div></div>
<div class="ttc" id="avdrive_8h_html_a3c1f958ea77a3d57f177c410b40d1765"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a3c1f958ea77a3d57f177c410b40d1765">vdrive_read_sector</a></div><div class="ttdeci">int vdrive_read_sector(vdrive_t *vdrive, uint8_t *buf, unsigned int track, unsigned int sector)</div><div class="ttdoc">This is where logical sectors are turned to physical.</div><div class="ttdef"><b>Definition:</b> vdrive.c:939</div></div>
<div class="ttc" id="avdrive_8h_html_a48dc3eedaa95e7d2a59a8401d227acd2"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a48dc3eedaa95e7d2a59a8401d227acd2">vdrive_read_sector_physical</a></div><div class="ttdeci">int vdrive_read_sector_physical(vdrive_t *vdrive, uint8_t *buf, unsigned int track, unsigned int sector)</div><div class="ttdef"><b>Definition:</b> vdrive.c:1000</div></div>
<div class="ttc" id="avdrive_8h_html_a4dfeb0ac1ad24c4a22fa59da8b194a63"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a4dfeb0ac1ad24c4a22fa59da8b194a63">vdrive_flush</a></div><div class="ttdeci">void vdrive_flush(unsigned int unit)</div><div class="ttdoc">called to flush out attached images</div><div class="ttdef"><b>Definition:</b> vdrive.c:221</div></div>
<div class="ttc" id="avdrive_8h_html_a4ff5c20bdd313acb7827b4296ef66c16"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a4ff5c20bdd313acb7827b4296ef66c16">vdrive_realpart</a></div><div class="ttdeci">int vdrive_realpart(vdrive_t *vdrive, int part)</div><div class="ttdoc">return the &quot;real&quot; partition when passed a 0 for CMD</div><div class="ttdef"><b>Definition:</b> vdrive.c:1642</div></div>
<div class="ttc" id="avdrive_8h_html_a53bf7de986b9b008fed714dab03eda15"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a53bf7de986b9b008fed714dab03eda15">vdrive_set_disk_geometry</a></div><div class="ttdeci">void vdrive_set_disk_geometry(vdrive_t *vdrive)</div><div class="ttdef"><b>Definition:</b> vdrive.c:603</div></div>
<div class="ttc" id="avdrive_8h_html_a557dc29879bee7ba1f43e3acb2ffe1ba"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a557dc29879bee7ba1f43e3acb2ffe1ba">vdrive_t</a></div><div class="ttdeci">struct vdrive_s vdrive_t</div><div class="ttdoc">Run-time data struct for each drive.</div></div>
<div class="ttc" id="avdrive_8h_html_a5d9a92ffe7eb28f18c8b0cf38f23a73f"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a5d9a92ffe7eb28f18c8b0cf38f23a73f">bufferinfo_t</a></div><div class="ttdeci">struct bufferinfo_s bufferinfo_t</div></div>
<div class="ttc" id="avdrive_8h_html_a7dc657f42a0baf8b306c12a7456c9f6b"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a7dc657f42a0baf8b306c12a7456c9f6b">vdrive_free_buffer</a></div><div class="ttdeci">void vdrive_free_buffer(struct bufferinfo_s *p)</div><div class="ttdef"><b>Definition:</b> vdrive.c:119</div></div>
<div class="ttc" id="avdrive_8h_html_a869e20d6e312c56819cdc8e75364a687"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#a869e20d6e312c56819cdc8e75364a687">vdrive_get_last_read</a></div><div class="ttdeci">void vdrive_get_last_read(unsigned int *track, unsigned int *sector, uint8_t **buffer)</div><div class="ttdef"><b>Definition:</b> vdrive.c:759</div></div>
<div class="ttc" id="avdrive_8h_html_aa49a04e014fc67d79bde3895c00acbff"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#aa49a04e014fc67d79bde3895c00acbff">vdrive_read_partition_table</a></div><div class="ttdeci">int vdrive_read_partition_table(vdrive_t *vdrive)</div><div class="ttdoc">0 = okay, anything else, dos error</div><div class="ttdef"><b>Definition:</b> vdrive.c:1121</div></div>
<div class="ttc" id="avdrive_8h_html_aa4b83c6713b57fcf413d1310c95a4153"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#aa4b83c6713b57fcf413d1310c95a4153">vdrive_get_image</a></div><div class="ttdeci">struct disk_image_s * vdrive_get_image(vdrive_t *vdrive, unsigned int drive)</div><div class="ttdef"><b>Definition:</b> vdrive.c:375</div></div>
<div class="ttc" id="avdrive_8h_html_aac8c185818cd540e9120bf07b01f4364"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#aac8c185818cd540e9120bf07b01f4364">vdrive_refresh</a></div><div class="ttdeci">void vdrive_refresh(unsigned int unit)</div><div class="ttdoc">called to start attached images from new</div><div class="ttdef"><b>Definition:</b> vdrive.c:184</div></div>
<div class="ttc" id="avdrive_8h_html_ac0788db7da0d7b96a31868243cca6497"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#ac0788db7da0d7b96a31868243cca6497">vdrive_write_sector_physical</a></div><div class="ttdeci">int vdrive_write_sector_physical(vdrive_t *vdrive, const uint8_t *buf, unsigned int track, unsigned int sector)</div><div class="ttdef"><b>Definition:</b> vdrive.c:1008</div></div>
<div class="ttc" id="avdrive_8h_html_acb1857f0580702431cdf1e568e135b12"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#acb1857f0580702431cdf1e568e135b12">vdrive_device_shutdown</a></div><div class="ttdeci">void vdrive_device_shutdown(vdrive_t *vdrive)</div><div class="ttdef"><b>Definition:</b> vdrive.c:168</div></div>
<div class="ttc" id="avdrive_8h_html_ad01764824ca84eec7fc2c804ed0f7b0e"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#ad01764824ca84eec7fc2c804ed0f7b0e">vdrive_find_sys</a></div><div class="ttdeci">int vdrive_find_sys(vdrive_t *vdrive)</div><div class="ttdoc">0 = found, anything else DOS ERROR or not found</div><div class="ttdef"><b>Definition:</b> vdrive.c:1038</div></div>
<div class="ttc" id="avdrive_8h_html_adde2a25b776cb3ddbb4e1b6d8a32d0ef"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#adde2a25b776cb3ddbb4e1b6d8a32d0ef">vdrive_detach_image</a></div><div class="ttdeci">void vdrive_detach_image(struct disk_image_s *image, unsigned int unit, unsigned int drive, vdrive_t *vdrive)</div><div class="ttdef"><b>Definition:</b> vdrive.c:338</div></div>
<div class="ttc" id="avdrive_8h_html_ae80f814126dcf8141db13ecf5f51f043"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#ae80f814126dcf8141db13ecf5f51f043">vdrive_pack_parts</a></div><div class="ttdeci">int vdrive_pack_parts(vdrive_t *vdrive)</div><div class="ttdef"><b>Definition:</b> vdrive.c:1423</div></div>
<div class="ttc" id="avdrive_8h_html_aec6b5c38215c09cccb4b909be2346577"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#aec6b5c38215c09cccb4b909be2346577">vdrive_ext_read_sector</a></div><div class="ttdeci">int vdrive_ext_read_sector(vdrive_t *vdrive, int drive, uint8_t *buf, unsigned int track, unsigned int sector)</div><div class="ttdoc">For external access to individual drives.</div><div class="ttdef"><b>Definition:</b> vdrive.c:1017</div></div>
<div class="ttc" id="avdrive_8h_html_aee7b900285bf73d941c44d555f626d4f"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#aee7b900285bf73d941c44d555f626d4f">vdrive_write_sector</a></div><div class="ttdeci">int vdrive_write_sector(vdrive_t *vdrive, const uint8_t *buf, unsigned int track, unsigned int sector)</div><div class="ttdef"><b>Definition:</b> vdrive.c:968</div></div>
<div class="ttc" id="avdrive_8h_html_af1f89cf46293441eadf0094562543319"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#af1f89cf46293441eadf0094562543319">vdrive_write_partition_table</a></div><div class="ttdeci">int vdrive_write_partition_table(vdrive_t *vdrive)</div><div class="ttdoc">return DOS error</div><div class="ttdef"><b>Definition:</b> vdrive.c:1200</div></div>
<div class="ttc" id="avdrive_8h_html_af275a9fcbb9515f4a8771ebe8db0b962"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#af275a9fcbb9515f4a8771ebe8db0b962">vdrive_set_last_read</a></div><div class="ttdeci">void vdrive_set_last_read(unsigned int track, unsigned int sector, uint8_t *buffer)</div><div class="ttdef"><b>Definition:</b> vdrive.c:766</div></div>
<div class="ttc" id="avdrive_8h_html_af3fb58b042e187185535b8eaa2a07817"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#af3fb58b042e187185535b8eaa2a07817">vdrive_device_setup</a></div><div class="ttdeci">int vdrive_device_setup(vdrive_t *vdrive, unsigned int unit)</div><div class="ttdef"><b>Definition:</b> vdrive.c:134</div></div>
<div class="ttc" id="avdrive_8h_html_afcd1ef090101425e5867d22d33414efc"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#afcd1ef090101425e5867d22d33414efc">vdrive_close_all_channels</a></div><div class="ttdeci">void vdrive_close_all_channels(vdrive_t *vdrive)</div><div class="ttdef"><b>Definition:</b> vdrive.c:248</div></div>
<div class="ttc" id="avdrive_8h_html_aff02b3fcd7a603c6d360a46a61bdeb5b"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#aff02b3fcd7a603c6d360a46a61bdeb5b">VDRIVE_BAM_MAX_STATES</a></div><div class="ttdeci">#define VDRIVE_BAM_MAX_STATES</div><div class="ttdef"><b>Definition:</b> vdrive.h:65</div></div>
<div class="ttc" id="avdrive_8h_html_aff875cfa68f454e72605e14a5ea1fcdd"><div class="ttname"><a href="../../d2/d32/vdrive_8h.html#aff875cfa68f454e72605e14a5ea1fcdd">vdrive_ext_write_sector</a></div><div class="ttdeci">int vdrive_ext_write_sector(vdrive_t *vdrive, int drive, const uint8_t *buf, unsigned int track, unsigned int sector)</div><div class="ttdef"><b>Definition:</b> vdrive.c:1027</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_85158082d3aec8974144a91b409aef8f.html">vdrive</a></li><li class="navelem"><a class="el" href="../../d2/d32/vdrive_8h.html">vdrive.h</a></li>
    <li class="footer">Generated on Sun Jun 16 2024 16:42:47 for vsid by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
