<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>vsid: arch/gtk3/widgets/statusbarrecordingwidget.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../vice-logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">vsid<span id="projectnumber">&#160;3.8</span>
   </div>
   <div id="projectbrief">Versatile Commodore Emulator and Virtual Commodore Environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d6/df7/statusbarrecordingwidget_8h.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">statusbarrecordingwidget.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Widget to display and control recording of events/audio/video - header.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;gtk/gtk.h&gt;</code><br />
</div>
<p><a href="../../d6/df7/statusbarrecordingwidget_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8e60d2b3d75750b9d09cdc66dd735f5e"><td class="memItemLeft" align="right" valign="top">GtkWidget *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/df7/statusbarrecordingwidget_8h.html#a8e60d2b3d75750b9d09cdc66dd735f5e">statusbar_recording_widget_create</a> (<a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>)</td></tr>
<tr class="memdesc:a8e60d2b3d75750b9d09cdc66dd735f5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create recording status widget.  <a href="../../d6/df7/statusbarrecordingwidget_8h.html#a8e60d2b3d75750b9d09cdc66dd735f5e">More...</a><br /></td></tr>
<tr class="separator:a8e60d2b3d75750b9d09cdc66dd735f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed96df807425108617a4daba29a9c4b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/df7/statusbarrecordingwidget_8h.html#aed96df807425108617a4daba29a9c4b3">statusbar_recording_widget_set_recording_status</a> (GtkWidget *widget, <a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a> status)</td></tr>
<tr class="memdesc:aed96df807425108617a4daba29a9c4b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set recording status.  <a href="../../d6/df7/statusbarrecordingwidget_8h.html#aed96df807425108617a4daba29a9c4b3">More...</a><br /></td></tr>
<tr class="separator:aed96df807425108617a4daba29a9c4b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb355ba5e30648690d59b7a96a96ec6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/df7/statusbarrecordingwidget_8h.html#afb355ba5e30648690d59b7a96a96ec6b">statusbar_recording_widget_set_time</a> (GtkWidget *widget, unsigned <a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a> current, unsigned <a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a> total)</td></tr>
<tr class="memdesc:afb355ba5e30648690d59b7a96a96ec6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update recording/playback time display.  <a href="../../d6/df7/statusbarrecordingwidget_8h.html#afb355ba5e30648690d59b7a96a96ec6b">More...</a><br /></td></tr>
<tr class="separator:afb355ba5e30648690d59b7a96a96ec6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adefddaa31472ba113676dcb9a4e95787"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/df7/statusbarrecordingwidget_8h.html#adefddaa31472ba113676dcb9a4e95787">statusbar_recording_widget_set_event_playback</a> (GtkWidget *widget, char *version)</td></tr>
<tr class="memdesc:adefddaa31472ba113676dcb9a4e95787"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set event playback status.  <a href="../../d6/df7/statusbarrecordingwidget_8h.html#adefddaa31472ba113676dcb9a4e95787">More...</a><br /></td></tr>
<tr class="separator:adefddaa31472ba113676dcb9a4e95787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309f3fb671b8702356b3fd9243c35565"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/df7/statusbarrecordingwidget_8h.html#a309f3fb671b8702356b3fd9243c35565">statusbar_recording_widget_hide_all</a> (GtkWidget *widget, guint timeout)</td></tr>
<tr class="memdesc:a309f3fb671b8702356b3fd9243c35565"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the labels and hide the button after <em>timeout</em> seconds.  <a href="../../d6/df7/statusbarrecordingwidget_8h.html#a309f3fb671b8702356b3fd9243c35565">More...</a><br /></td></tr>
<tr class="separator:a309f3fb671b8702356b3fd9243c35565"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Widget to display and control recording of events/audio/video - header. </p>
<dl class="section author"><dt>Author</dt><dd>Bas Wassink <a href="#" onclick="location.href='mai'+'lto:'+'b.w'+'as'+'sin'+'k@'+'zig'+'go'+'.nl'; return false;">b.was<span class="obfuscator">.nosp@m.</span>sink<span class="obfuscator">.nosp@m.</span>@zigg<span class="obfuscator">.nosp@m.</span>o.nl</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8e60d2b3d75750b9d09cdc66dd735f5e" name="a8e60d2b3d75750b9d09cdc66dd735f5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e60d2b3d75750b9d09cdc66dd735f5e">&#9670;&nbsp;</a></span>statusbar_recording_widget_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GtkWidget * statusbar_recording_widget_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create recording status widget. </p>
<p >Generate a widget to show on the statusbar to display recording state.</p>
<dl class="section return"><dt>Returns</dt><dd>GtkGrid </dd></dl>
<p >gtk_widget_set_hexpand(label, TRUE);</p>

<p class="reference">Referenced by <a class="el" href="../../d6/da8/uistatusbar_8c.html#a66033c93e348e4fce878790482a54f2f">ui_statusbar_create()</a>.</p>

</div>
</div>
<a id="a309f3fb671b8702356b3fd9243c35565" name="a309f3fb671b8702356b3fd9243c35565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309f3fb671b8702356b3fd9243c35565">&#9670;&nbsp;</a></span>statusbar_recording_widget_hide_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> statusbar_recording_widget_hide_all </td>
          <td>(</td>
          <td class="paramtype">GtkWidget *&#160;</td>
          <td class="paramname"><em>widget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">guint&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the labels and hide the button after <em>timeout</em> seconds. </p>
<p >Use a <em>timeout</em> of 0 to immediately clear the labels and hide the button, skipping timer setup.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">widget</td><td>recording widget </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>timeout in seconds </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d07/statusbarrecordingwidget_8c.html#a9f7d6bde8a3ecbb2ee55d1fcdab482d0">on_stop_clicked()</a>, and <a class="el" href="../../d4/d26/uimedia_8c.html#ac532d5aeb63c5ae7ede1d1fa9572c5d6">ui_media_stop_recording()</a>.</p>

</div>
</div>
<a id="adefddaa31472ba113676dcb9a4e95787" name="adefddaa31472ba113676dcb9a4e95787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adefddaa31472ba113676dcb9a4e95787">&#9670;&nbsp;</a></span>statusbar_recording_widget_set_event_playback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> statusbar_recording_widget_set_event_playback </td>
          <td>(</td>
          <td class="paramtype">GtkWidget *&#160;</td>
          <td class="paramname"><em>widget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set event playback status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">widget</td><td>statusbar recording status widget </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">version</td><td>VICE version major.minor string during playback, NULL when playback is done </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../d2/de6/uiapi_8h.html#a5e96b93f3807719b2ed39aa87b350c4c">ui_display_playback()</a>.</p>

</div>
</div>
<a id="aed96df807425108617a4daba29a9c4b3" name="aed96df807425108617a4daba29a9c4b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed96df807425108617a4daba29a9c4b3">&#9670;&nbsp;</a></span>statusbar_recording_widget_set_recording_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> statusbar_recording_widget_set_recording_status </td>
          <td>(</td>
          <td class="paramtype">GtkWidget *&#160;</td>
          <td class="paramname"><em>widget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a>&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set recording status. </p>
<p >Sets the type of recording and the status (ie 'Recording $rec-type or 'Recording stopped).</p>
<dl class="section note"><dt>Note</dt><dd>Somehow getting the recording state of events doesn't work yet, so that currently displays 'inactive'.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">widget</td><td>statusbar recording status widget </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>recording status (boolean) </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000627">Todo:</a></b></dt><dd>FIXME: <a class="el" href="../../d9/d72/sound_8c.html#a6107005a60de6eb1ff0eb1da0617f869">sound_is_recording()</a> returns false when using the UI, it uses a variable that only gets set when using command-line options. Triggering the recording from the UI doesn't set the variable but does set the related resource, which I use in the function used to update the UI display.</dd></dl>
<p >So this needs some serious refactoring.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/de6/uiapi_8h.html#a02494fba104a92defab16e824fda253b">ui_display_recording()</a>.</p>

</div>
</div>
<a id="afb355ba5e30648690d59b7a96a96ec6b" name="afb355ba5e30648690d59b7a96a96ec6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb355ba5e30648690d59b7a96a96ec6b">&#9670;&nbsp;</a></span>statusbar_recording_widget_set_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> statusbar_recording_widget_set_time </td>
          <td>(</td>
          <td class="paramtype">GtkWidget *&#160;</td>
          <td class="paramname"><em>widget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a>&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned <a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a>&#160;</td>
          <td class="paramname"><em>total</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update recording/playback time display. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">widget</td><td>recording widget </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">current</td><td>current time in seconds </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">total</td><td>total time in seconds</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><em>total</em> only makes sense when replaying events. I could make the time display '&ndash;:&ndash;' when <em>total</em> is 0, but it it possible, though unlikely, we're replaying a sequence of events which take less than a second. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000628">Todo:</a></b></dt><dd>FIXME: Determining the recording status/type is currently very flaky. When triggering a recording from the UI the variables that should indicate the recording type aren't set yet. So for now we have to check them in this timer callback. Also the sound recording status function is broken in <a class="el" href="../../d9/d72/sound_8c.html">src/sound.c</a>. </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d2/de6/uiapi_8h.html#aa958e19f83c31e00d5c084d8b7b2e78f">ui_display_event_time()</a>, and <a class="el" href="../../dc/d07/statusbarrecordingwidget_8c.html#ad39abcb7158f1613f965d61872ea7fae">update_timer()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_70d5e250c66d001b18da37689179cade.html">arch</a></li><li class="navelem"><a class="el" href="../../dir_c54d499b7f33dfc2d305dae6070404dd.html">gtk3</a></li><li class="navelem"><a class="el" href="../../dir_1dfc23a3fb2ad188e68b7185f88a111e.html">widgets</a></li><li class="navelem"><a class="el" href="../../d6/df7/statusbarrecordingwidget_8h.html">statusbarrecordingwidget.h</a></li>
    <li class="footer">Generated on Sun Jun 16 2024 16:42:48 for vsid by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
