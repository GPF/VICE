<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>vsid: arch/gtk3/uimachinewindow.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../vice-logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">vsid<span id="projectnumber">&#160;3.8</span>
   </div>
   <div id="projectbrief">Versatile Commodore Emulator and Virtual Commodore Environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/dcc/uimachinewindow_8c.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">uimachinewindow.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Native GTK3 main emulator window code.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../dc/d6b/vice_8h_source.html">vice.h</a>&quot;</code><br />
<code>#include &lt;gtk/gtk.h&gt;</code><br />
<code>#include &lt;gdk/gdkx.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../de/d39/opengl__renderer_8h_source.html">opengl_renderer.h</a>&quot;</code><br />
<code>#include &quot;lightpen.h&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d7f/log_8h_source.html">log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/d8f/machine_8h_source.html">machine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d4b/mousedrv_8h_source.html">mousedrv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d6f/resources_8h_source.html">resources.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d3b/ui_8h_source.html">ui.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/dcf/uimachinemenu_8h_source.html">uimachinemenu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d39/videoarch_8h_source.html">videoarch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/vsyncapi_8h_source.html">vsyncapi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/dc2/uimachinewindow_8h_source.html">uimachinewindow.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a322ea601a499e53acc902f3909dc5198"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a322ea601a499e53acc902f3909dc5198">VICE_EMPTY_POINTER</a>&#160;&#160;&#160;canvas-&gt;blank_ptr</td></tr>
<tr class="separator:a322ea601a499e53acc902f3909dc5198"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae118a167edc65e32e3e55569b3dc2512"><td class="memItemLeft" align="right" valign="top">static gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ae118a167edc65e32e3e55569b3dc2512">event_box_stillness_tick_cb</a> (GtkWidget *widget, GdkFrameClock *clock, gpointer user_data)</td></tr>
<tr class="memdesc:ae118a167edc65e32e3e55569b3dc2512"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame-advance callback for the hide-mouse-when-idle logic.  <a href="../../dd/dcc/uimachinewindow_8c.html#ae118a167edc65e32e3e55569b3dc2512">More...</a><br /></td></tr>
<tr class="separator:ae118a167edc65e32e3e55569b3dc2512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46dbd99b67e556f36ee077b7d193efd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a46dbd99b67e556f36ee077b7d193efd0">ui_set_ignore_mouse_hide</a> (gboolean <a class="el" href="../../d9/d54/parallel_8c.html#a89f234133d3efe315836311cbf21c64b">state</a>)</td></tr>
<tr class="memdesc:a46dbd99b67e556f36ee077b7d193efd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set mouse-hide-ignore state.  <a href="../../dd/dcc/uimachinewindow_8c.html#a46dbd99b67e556f36ee077b7d193efd0">More...</a><br /></td></tr>
<tr class="separator:a46dbd99b67e556f36ee077b7d193efd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029552db41499eb641710d7adaac7c4e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a029552db41499eb641710d7adaac7c4e">warp</a> (<a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a> <a class="el" href="../../d0/dec/mon__disassemble_8c.html#a6c4b361d72eb3767ba424ac9a6ecf52b">x</a>, <a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a> y)</td></tr>
<tr class="memdesc:a029552db41499eb641710d7adaac7c4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mouse warp for each platform.  <a href="../../dd/dcc/uimachinewindow_8c.html#a029552db41499eb641710d7adaac7c4e">More...</a><br /></td></tr>
<tr class="separator:a029552db41499eb641710d7adaac7c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867183c3708589463fa8f6289f6b6b15"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a867183c3708589463fa8f6289f6b6b15">mouse_host_capture</a> (<a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a> warp_x, <a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a> warp_y)</td></tr>
<tr class="separator:a867183c3708589463fa8f6289f6b6b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35238bed6f64195252ef2fa3ad406319"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a35238bed6f64195252ef2fa3ad406319">mouse_host_uncapture</a> (<a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>)</td></tr>
<tr class="separator:a35238bed6f64195252ef2fa3ad406319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a413316c7284a430c80de41d4d83b581e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a413316c7284a430c80de41d4d83b581e">mouse_host_moved</a> (float <a class="el" href="../../d0/dec/mon__disassemble_8c.html#a6c4b361d72eb3767ba424ac9a6ecf52b">x</a>, float y)</td></tr>
<tr class="memdesc:a413316c7284a430c80de41d4d83b581e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate mouse movement delta and warp back to the origin.  <a href="../../dd/dcc/uimachinewindow_8c.html#a413316c7284a430c80de41d4d83b581e">More...</a><br /></td></tr>
<tr class="separator:a413316c7284a430c80de41d4d83b581e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3794e95a1f960522a9cafac3fa9bea32"><td class="memItemLeft" align="right" valign="top">static gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a3794e95a1f960522a9cafac3fa9bea32">event_box_motion_cb</a> (GtkWidget *widget, GdkEvent *event, gpointer user_data)</td></tr>
<tr class="memdesc:a3794e95a1f960522a9cafac3fa9bea32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for handling mouse motion events over the emulated screen.  <a href="../../dd/dcc/uimachinewindow_8c.html#a3794e95a1f960522a9cafac3fa9bea32">More...</a><br /></td></tr>
<tr class="separator:a3794e95a1f960522a9cafac3fa9bea32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99603f91434a73edf5b6f7d864806613"><td class="memItemLeft" align="right" valign="top">static gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a99603f91434a73edf5b6f7d864806613">event_box_mouse_button_cb</a> (GtkWidget *widget, GdkEvent *event, gpointer user_data)</td></tr>
<tr class="memdesc:a99603f91434a73edf5b6f7d864806613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for handling mouse button events over the emulated screen.  <a href="../../dd/dcc/uimachinewindow_8c.html#a99603f91434a73edf5b6f7d864806613">More...</a><br /></td></tr>
<tr class="separator:a99603f91434a73edf5b6f7d864806613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9545c61eead60c38958991f93e3d571"><td class="memItemLeft" align="right" valign="top">static gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ac9545c61eead60c38958991f93e3d571">event_box_scroll_cb</a> (GtkWidget *widget, GdkEvent *event, gpointer user_data)</td></tr>
<tr class="memdesc:ac9545c61eead60c38958991f93e3d571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for handling mouse scroll wheel events over the emulated screen.  <a href="../../dd/dcc/uimachinewindow_8c.html#ac9545c61eead60c38958991f93e3d571">More...</a><br /></td></tr>
<tr class="separator:ac9545c61eead60c38958991f93e3d571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25984c0ca3b174586a49f3231e261944"><td class="memItemLeft" align="right" valign="top">static GdkCursor *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a25984c0ca3b174586a49f3231e261944">make_cursor</a> (GtkWidget *widget, const char *name)</td></tr>
<tr class="memdesc:a25984c0ca3b174586a49f3231e261944"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a reusable cursor that may be used as part of this widget.  <a href="../../dd/dcc/uimachinewindow_8c.html#a25984c0ca3b174586a49f3231e261944">More...</a><br /></td></tr>
<tr class="separator:a25984c0ca3b174586a49f3231e261944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96e49f1633a1067059f86e60674ab16a"><td class="memItemLeft" align="right" valign="top">static gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a96e49f1633a1067059f86e60674ab16a">event_box_cross_cb</a> (GtkWidget *widget, GdkEvent *event, gpointer user_data)</td></tr>
<tr class="memdesc:a96e49f1633a1067059f86e60674ab16a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for managing the hide-pointer-on-idle timings.  <a href="../../dd/dcc/uimachinewindow_8c.html#a96e49f1633a1067059f86e60674ab16a">More...</a><br /></td></tr>
<tr class="separator:a96e49f1633a1067059f86e60674ab16a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7550ee5e84aaeebab1d366e5ebdea8a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#af7550ee5e84aaeebab1d366e5ebdea8a">machine_window_create</a> (<a class="el" href="../../d5/d39/videoarch_8h.html#a283535ea9f277741335a0e057df9efec">video_canvas_t</a> *canvas)</td></tr>
<tr class="memdesc:af7550ee5e84aaeebab1d366e5ebdea8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new machine window.  <a href="../../dd/dcc/uimachinewindow_8c.html#af7550ee5e84aaeebab1d366e5ebdea8a">More...</a><br /></td></tr>
<tr class="separator:af7550ee5e84aaeebab1d366e5ebdea8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4350aab12b23e2d1d8175b42a0f32a71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a4350aab12b23e2d1d8175b42a0f32a71">ui_machine_window_init</a> (<a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>)</td></tr>
<tr class="memdesc:a4350aab12b23e2d1d8175b42a0f32a71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up any resources needed to create new machine windows.  <a href="../../dd/dcc/uimachinewindow_8c.html#a4350aab12b23e2d1d8175b42a0f32a71">More...</a><br /></td></tr>
<tr class="separator:a4350aab12b23e2d1d8175b42a0f32a71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb29ff0af923f0cfa30515bb7f9a716"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a1fb29ff0af923f0cfa30515bb7f9a716">ui_mouse_grab_pointer</a> (<a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>)</td></tr>
<tr class="memdesc:a1fb29ff0af923f0cfa30515bb7f9a716"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grab the mouse pointer when mouse emulation is enabled.  <a href="../../dd/dcc/uimachinewindow_8c.html#a1fb29ff0af923f0cfa30515bb7f9a716">More...</a><br /></td></tr>
<tr class="separator:a1fb29ff0af923f0cfa30515bb7f9a716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac13c10a45f32f85c859aba5395ed6b18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ac13c10a45f32f85c859aba5395ed6b18">ui_mouse_ungrab_pointer</a> (<a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>)</td></tr>
<tr class="memdesc:ac13c10a45f32f85c859aba5395ed6b18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ungrab the mouse pointer when it was grabbed before.  <a href="../../dd/dcc/uimachinewindow_8c.html#ac13c10a45f32f85c859aba5395ed6b18">More...</a><br /></td></tr>
<tr class="separator:ac13c10a45f32f85c859aba5395ed6b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac42ce165577610fe7b71bc593fa56324"><td class="memItemLeft" align="right" valign="top">static gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ac42ce165577610fe7b71bc593fa56324">ignore_mouse_hide</a> = <a class="el" href="../../d7/d24/fastsid_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memdesc:ac42ce165577610fe7b71bc593fa56324"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ignore the hide-mouse-cursor event handlers.  <a href="../../dd/dcc/uimachinewindow_8c.html#ac42ce165577610fe7b71bc593fa56324">More...</a><br /></td></tr>
<tr class="separator:ac42ce165577610fe7b71bc593fa56324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab41a20a1747b217f45a9ae550de5d6fd"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ab41a20a1747b217f45a9ae550de5d6fd">enable_capture</a> = <a class="el" href="../../d9/dd0/ConvertUTF_8cpp.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="memdesc:ab41a20a1747b217f45a9ae550de5d6fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether or not to capture mouse movements and warp back.  <a href="../../dd/dcc/uimachinewindow_8c.html#ab41a20a1747b217f45a9ae550de5d6fd">More...</a><br /></td></tr>
<tr class="separator:ab41a20a1747b217f45a9ae550de5d6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a413e2730fc2d71ab06957caec289f325"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a413e2730fc2d71ab06957caec289f325">host_delta_origin_x</a> = 0.0</td></tr>
<tr class="memdesc:a413e2730fc2d71ab06957caec289f325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Host mouse deltas are calculated from this X value.  <a href="../../dd/dcc/uimachinewindow_8c.html#a413e2730fc2d71ab06957caec289f325">More...</a><br /></td></tr>
<tr class="separator:a413e2730fc2d71ab06957caec289f325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f3d9064fc5a685adba3fd84c6a3c7fe"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a6f3d9064fc5a685adba3fd84c6a3c7fe">host_delta_origin_y</a> = 0.0</td></tr>
<tr class="memdesc:a6f3d9064fc5a685adba3fd84c6a3c7fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Host mouse deltas are calculated from this Y value.  <a href="../../dd/dcc/uimachinewindow_8c.html#a6f3d9064fc5a685adba3fd84c6a3c7fe">More...</a><br /></td></tr>
<tr class="separator:a6f3d9064fc5a685adba3fd84c6a3c7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a7448839295211e78b57d57a8aefae"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a98a7448839295211e78b57d57a8aefae">_mouse_still_frames</a> = 0</td></tr>
<tr class="memdesc:a98a7448839295211e78b57d57a8aefae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of frames the mouse didn't move, used for pointer hiding.  <a href="../../dd/dcc/uimachinewindow_8c.html#a98a7448839295211e78b57d57a8aefae">More...</a><br /></td></tr>
<tr class="separator:a98a7448839295211e78b57d57a8aefae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Native GTK3 main emulator window code. </p>
<dl class="section author"><dt>Author</dt><dd>Marcus Sutton <a href="#" onclick="location.href='mai'+'lto:'+'log'+'ge'+'dou'+'bt'+'@gm'+'ai'+'l.c'+'om'; return false;">logge<span class="obfuscator">.nosp@m.</span>doub<span class="obfuscator">.nosp@m.</span>t@gma<span class="obfuscator">.nosp@m.</span>il.c<span class="obfuscator">.nosp@m.</span>om</a> </dd>
<dd>
Michael C. Martin <a href="#" onclick="location.href='mai'+'lto:'+'mcm'+'ar'+'tin'+'@g'+'mai'+'l.'+'com'; return false;">mcmar<span class="obfuscator">.nosp@m.</span>tin@<span class="obfuscator">.nosp@m.</span>gmail<span class="obfuscator">.nosp@m.</span>.com</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a322ea601a499e53acc902f3909dc5198" name="a322ea601a499e53acc902f3909dc5198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a322ea601a499e53acc902f3909dc5198">&#9670;&nbsp;</a></span>VICE_EMPTY_POINTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VICE_EMPTY_POINTER&#160;&#160;&#160;canvas-&gt;blank_ptr</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000553">Todo:</a></b></dt><dd>FIXME: someone please add Doxygen docs for this, I can guess what it means but I'll probably get it wrong. &ndash;compyx </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a96e49f1633a1067059f86e60674ab16a" name="a96e49f1633a1067059f86e60674ab16a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96e49f1633a1067059f86e60674ab16a">&#9670;&nbsp;</a></span>event_box_cross_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gboolean event_box_cross_cb </td>
          <td>(</td>
          <td class="paramtype">GtkWidget *&#160;</td>
          <td class="paramname"><em>widget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GdkEvent *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for managing the hide-pointer-on-idle timings. </p>
<p >This callback fires whenever the machine window's canvas gains or loses focus over the mouse pointer. It manages the logic that hides the mouse pointer after inactivity. Entering the window will start the timer, and leaving it will stop it.</p>
<p >Leaving the window entirely will also be interpreted as removing the light pen from the screen.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">widget</td><td>The widget that sent the event. </td></tr>
    <tr><td class="paramname">event</td><td>The GdkEventCrossing event itself. </td></tr>
    <tr><td class="paramname">user_data</td><td>The video canvas data structure associated with this machine window. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if no further event processing is necessary.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ae118a167edc65e32e3e55569b3dc2512" title="Frame-advance callback for the hide-mouse-when-idle logic.">event_box_stillness_tick_cb</a> The timer managed by this function. </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#af7550ee5e84aaeebab1d366e5ebdea8a">machine_window_create()</a>.</p>

</div>
</div>
<a id="a3794e95a1f960522a9cafac3fa9bea32" name="a3794e95a1f960522a9cafac3fa9bea32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3794e95a1f960522a9cafac3fa9bea32">&#9670;&nbsp;</a></span>event_box_motion_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gboolean event_box_motion_cb </td>
          <td>(</td>
          <td class="paramtype">GtkWidget *&#160;</td>
          <td class="paramname"><em>widget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GdkEvent *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for handling mouse motion events over the emulated screen. </p>
<p >Mouse motion events influence three different subsystems: the light-pen (if any), the emulated mouse (if any), and the UI-level routines that hide the mouse pointer if it comes to rest over the machine's screen.</p>
<p >Moving the mouse pointer resets the number of frames the mouse was held still.</p>
<p >Light pen position information is computed based on the new mouse position and what part of the machine window is actually in use based on current scaling and aspect ratio settings.</p>
<p >Mouse information is computed based on the difference between the current mouse location and the last recorded mouse location. If the mouse has been captured by the emulator, this also then warps the mouse pointer back to the middle of the emulated screen. (These warps will trigger an additional call to this function, but an additional flag will prevent them from being processed as true input.)</p>
<p >Information relevant to these processes is cached in the <a class="el" href="../../dc/d3c/structvideo__canvas__s.html" title="Master data structure for a machine window&#39;s primary display.">video_canvas_s</a> structure for use as needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">widget</td><td>The widget that sent the event. </td></tr>
    <tr><td class="paramname">event</td><td>The GdkEventMotion event itself. </td></tr>
    <tr><td class="paramname">user_data</td><td>The video canvas data structure associated with this machine window. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if no further event processing is necessary.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000554">Todo:</a></b></dt><dd>Information involving mouse-warping is not cached with the canvas yet, and should be for cleaner C128 support.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000555">Todo:</a></b></dt><dd>Pointer warping does not work on Wayland. GTK3 and its GDK substrate simply do not provide an implementation for gdk_device_warp(), and Wayland's window model doesn't really support pointer warping the way GDK envisions. Wayland's window model envisions using pointer constraints to confine the mouse pointer within a target window, and then using relative mouse motion events to capture additional attempts at motion outside of it. SDL2 implements this and it may provide a useful starting point for this alternative implementation.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a99603f91434a73edf5b6f7d864806613" title="Callback for handling mouse button events over the emulated screen.">event_box_mouse_button_cb</a> Further light pen and mouse button handling. </dd>
<dd>
<a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ac9545c61eead60c38958991f93e3d571" title="Callback for handling mouse scroll wheel events over the emulated screen.">event_box_scroll_cb</a> Further mouse button handling. </dd>
<dd>
<a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ae118a167edc65e32e3e55569b3dc2512" title="Frame-advance callback for the hide-mouse-when-idle logic.">event_box_stillness_tick_cb</a> More of the hide-idle-mouse-pointer logic. </dd>
<dd>
<a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a96e49f1633a1067059f86e60674ab16a" title="Callback for managing the hide-pointer-on-idle timings.">event_box_cross_cb</a> More of the hide-idle-mouse-pointer logic. </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#af7550ee5e84aaeebab1d366e5ebdea8a">machine_window_create()</a>.</p>

</div>
</div>
<a id="a99603f91434a73edf5b6f7d864806613" name="a99603f91434a73edf5b6f7d864806613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99603f91434a73edf5b6f7d864806613">&#9670;&nbsp;</a></span>event_box_mouse_button_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gboolean event_box_mouse_button_cb </td>
          <td>(</td>
          <td class="paramtype">GtkWidget *&#160;</td>
          <td class="paramname"><em>widget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GdkEvent *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for handling mouse button events over the emulated screen. </p>
<p >This forwards any button press or release events on to the light pen and mouse subsystems.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">widget</td><td>The widget that sent the event. </td></tr>
    <tr><td class="paramname">event</td><td>The GdkEventButton event itself. </td></tr>
    <tr><td class="paramname">user_data</td><td>The video canvas data structure associated with this machine window. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if no further event processing is necessary.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>event_box_mouse_motion_cb Further handling of light pen and mouse events. </dd>
<dd>
<a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ac9545c61eead60c38958991f93e3d571" title="Callback for handling mouse scroll wheel events over the emulated screen.">event_box_scroll_cb</a> Further handling of mouse button events. </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#af7550ee5e84aaeebab1d366e5ebdea8a">machine_window_create()</a>.</p>

</div>
</div>
<a id="ac9545c61eead60c38958991f93e3d571" name="ac9545c61eead60c38958991f93e3d571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9545c61eead60c38958991f93e3d571">&#9670;&nbsp;</a></span>event_box_scroll_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gboolean event_box_scroll_cb </td>
          <td>(</td>
          <td class="paramtype">GtkWidget *&#160;</td>
          <td class="paramname"><em>widget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GdkEvent *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for handling mouse scroll wheel events over the emulated screen. </p>
<p >GTK generates these by translating button presses on buttons 4 and 5 into scroll events; we convert them back and forward them on to the mouse subsystem.</p>
<p >"Smooth scroll" events are also processed, interpreted as "up
scroll" or "down scroll" based on the vertical component of the smooth-scroll event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">widget</td><td>The widget that sent the event. </td></tr>
    <tr><td class="paramname">event</td><td>The GdkEventScroll event itself. </td></tr>
    <tr><td class="paramname">user_data</td><td>The video canvas data structure associated with this machine window. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if no further event processing is necessary.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ac9545c61eead60c38958991f93e3d571" title="Callback for handling mouse scroll wheel events over the emulated screen.">event_box_scroll_cb</a> Further handling of mouse button events. </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#af7550ee5e84aaeebab1d366e5ebdea8a">machine_window_create()</a>.</p>

</div>
</div>
<a id="ae118a167edc65e32e3e55569b3dc2512" name="ae118a167edc65e32e3e55569b3dc2512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae118a167edc65e32e3e55569b3dc2512">&#9670;&nbsp;</a></span>event_box_stillness_tick_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static gboolean event_box_stillness_tick_cb </td>
          <td>(</td>
          <td class="paramtype">GtkWidget *&#160;</td>
          <td class="paramname"><em>widget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GdkFrameClock *&#160;</td>
          <td class="paramname"><em>clock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frame-advance callback for the hide-mouse-when-idle logic. </p>
<p >This function is called as the "tick callback" whenever the mouse is hovering over the machine's screen. Its job is primarily to manage the mouse cursor:</p>
<ul>
<li>If the light pen is active, the cursor is always visible and is shaped like a crosshair.</li>
<li>If the mouse is grabbed, the cursor is never visible.</li>
<li>Otherwise, the cursor is visible as a normal mouse pointer as long as it's been 60 or fewer ticks since the last time the mouse moved.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">widget</td><td>The widget that sent the event. </td></tr>
    <tr><td class="paramname">clock</td><td>The GdkFrameClock that's managing our ticks. </td></tr>
    <tr><td class="paramname">user_data</td><td>The video canvas data structure associated with this machine window. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if no further event processing is necessary.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a96e49f1633a1067059f86e60674ab16a" title="Callback for managing the hide-pointer-on-idle timings.">event_box_cross_cb</a> Manages the lifecycle of this tick callback. </dd>
<dd>
<a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a3794e95a1f960522a9cafac3fa9bea32" title="Callback for handling mouse motion events over the emulated screen.">event_box_motion_cb</a> Manages the "ticks since the last time the
    mouse moved" <a class="el" href="../../d8/d82/userport__superpad64_8c.html#a0480b812cba9c1d9c71a5fb1071bd0fc">counter</a>. </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a96e49f1633a1067059f86e60674ab16a">event_box_cross_cb()</a>, and <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a3794e95a1f960522a9cafac3fa9bea32">event_box_motion_cb()</a>.</p>

</div>
</div>
<a id="af7550ee5e84aaeebab1d366e5ebdea8a" name="af7550ee5e84aaeebab1d366e5ebdea8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7550ee5e84aaeebab1d366e5ebdea8a">&#9670;&nbsp;</a></span>machine_window_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> machine_window_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/d39/videoarch_8h.html#a283535ea9f277741335a0e057df9efec">video_canvas_t</a> *&#160;</td>
          <td class="paramname"><em>canvas</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new machine window. </p>
<p >A machine window is a GtkGrid that has a menu bar on top, a status bar on the bottom, and a renderer-backend specific drawing area in the middle. The canvas argument has its relevant fields populated by this process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">canvas</td><td>The video canvas to populate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000556">Todo:</a></b></dt><dd>At the moment, the renderer backend is selected at compile time and cannot be changed. It would be nice to be able to fall back to simpler backends if more specialized ones fail. This is difficult at present because we cannot know if OpenGL is available until long after the window is created and realized. </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a4350aab12b23e2d1d8175b42a0f32a71">ui_machine_window_init()</a>.</p>

</div>
</div>
<a id="a25984c0ca3b174586a49f3231e261944" name="a25984c0ca3b174586a49f3231e261944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25984c0ca3b174586a49f3231e261944">&#9670;&nbsp;</a></span>make_cursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static GdkCursor * make_cursor </td>
          <td>(</td>
          <td class="paramtype">GtkWidget *&#160;</td>
          <td class="paramname"><em>widget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a reusable cursor that may be used as part of this widget. </p>
<p >GDK cursors are tied to specific displays, so they need to be created for each machine window individually.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">widget</td><td>The widget that will be using this cursor. </td></tr>
    <tr><td class="paramname">name</td><td>The name of the cursor to create. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new, non-floating, GdkCursor reference, or NULL on failure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Users coming to this code from the more X11-centric GTK2 will notice that the array of guaranteed-available cursors is much smaller. Please continue to only use the cursors listed in the documentation for gdk_cursor_new_from_name() here. </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ae118a167edc65e32e3e55569b3dc2512">event_box_stillness_tick_cb()</a>.</p>

</div>
</div>
<a id="a867183c3708589463fa8f6289f6b6b15" name="a867183c3708589463fa8f6289f6b6b15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a867183c3708589463fa8f6289f6b6b15">&#9670;&nbsp;</a></span>mouse_host_capture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> mouse_host_capture </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a>&#160;</td>
          <td class="paramname"><em>warp_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a>&#160;</td>
          <td class="paramname"><em>warp_y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a1fb29ff0af923f0cfa30515bb7f9a716">ui_mouse_grab_pointer()</a>.</p>

</div>
</div>
<a id="a413316c7284a430c80de41d4d83b581e" name="a413316c7284a430c80de41d4d83b581e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a413316c7284a430c80de41d4d83b581e">&#9670;&nbsp;</a></span>mouse_host_moved()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> mouse_host_moved </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate mouse movement delta and warp back to the origin. </p>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a3794e95a1f960522a9cafac3fa9bea32">event_box_motion_cb()</a>.</p>

</div>
</div>
<a id="a35238bed6f64195252ef2fa3ad406319" name="a35238bed6f64195252ef2fa3ad406319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35238bed6f64195252ef2fa3ad406319">&#9670;&nbsp;</a></span>mouse_host_uncapture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> mouse_host_uncapture </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ac13c10a45f32f85c859aba5395ed6b18">ui_mouse_ungrab_pointer()</a>.</p>

</div>
</div>
<a id="a4350aab12b23e2d1d8175b42a0f32a71" name="a4350aab12b23e2d1d8175b42a0f32a71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4350aab12b23e2d1d8175b42a0f32a71">&#9670;&nbsp;</a></span>ui_machine_window_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> ui_machine_window_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up any resources needed to create new machine windows. </p>

</div>
</div>
<a id="a1fb29ff0af923f0cfa30515bb7f9a716" name="a1fb29ff0af923f0cfa30515bb7f9a716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fb29ff0af923f0cfa30515bb7f9a716">&#9670;&nbsp;</a></span>ui_mouse_grab_pointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> ui_mouse_grab_pointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Grab the mouse pointer when mouse emulation is enabled. </p>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a96e49f1633a1067059f86e60674ab16a">event_box_cross_cb()</a>, <a class="el" href="../../dd/d59/mousedrv_8c.html#ac4e533ec65ca31a67f5c88de80693cfb">mousedrv_mouse_changed()</a>, and <a class="el" href="../../dc/d78/ui_8c.html#ab3df65910cde42fd9087bec4a53b246f">on_focus_in_event()</a>.</p>

</div>
</div>
<a id="ac13c10a45f32f85c859aba5395ed6b18" name="ac13c10a45f32f85c859aba5395ed6b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac13c10a45f32f85c859aba5395ed6b18">&#9670;&nbsp;</a></span>ui_mouse_ungrab_pointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> ui_mouse_ungrab_pointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ungrab the mouse pointer when it was grabbed before. </p>

<p class="reference">Referenced by <a class="el" href="../../dd/d59/mousedrv_8c.html#ac4e533ec65ca31a67f5c88de80693cfb">mousedrv_mouse_changed()</a>, and <a class="el" href="../../dc/d78/ui_8c.html#a26e04633f0f79a6bdcdd5beafdd04fc5">on_focus_out_event()</a>.</p>

</div>
</div>
<a id="a46dbd99b67e556f36ee077b7d193efd0" name="a46dbd99b67e556f36ee077b7d193efd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46dbd99b67e556f36ee077b7d193efd0">&#9670;&nbsp;</a></span>ui_set_ignore_mouse_hide()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> ui_set_ignore_mouse_hide </td>
          <td>(</td>
          <td class="paramtype">gboolean&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set mouse-hide-ignore state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>enable/disable ignoring the mouse pointer hiding </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="../../dc/d78/ui_8c.html#ab3df65910cde42fd9087bec4a53b246f">on_focus_in_event()</a>, and <a class="el" href="../../dc/d78/ui_8c.html#a26e04633f0f79a6bdcdd5beafdd04fc5">on_focus_out_event()</a>.</p>

</div>
</div>
<a id="a029552db41499eb641710d7adaac7c4e" name="a029552db41499eb641710d7adaac7c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a029552db41499eb641710d7adaac7c4e">&#9670;&nbsp;</a></span>warp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d2/dec/opencbmlib_8h.html#a05c94311c0dbec5cee2fd50b45008d4a">void</a> warp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a>&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mouse warp for each platform. </p>

<p class="reference">Referenced by <a class="el" href="../../d0/d4b/settings__speed_8c.html#af75e3d5f9a9f377062f4bc90aca1a95b">create_warp_checkbox()</a>, <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a867183c3708589463fa8f6289f6b6b15">mouse_host_capture()</a>, <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a413316c7284a430c80de41d4d83b581e">mouse_host_moved()</a>, <a class="el" href="../../d8/dce/settings__autostart_8c.html#aa9d9f3c60fe5b6d274e0bbe055f8b7bf">settings_autostart_widget_create()</a>, and <a class="el" href="../../d0/d4b/settings__speed_8c.html#a5f712604b163b4bb69c3f3f1097fd343">warp_callback()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a98a7448839295211e78b57d57a8aefae" name="a98a7448839295211e78b57d57a8aefae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a7448839295211e78b57d57a8aefae">&#9670;&nbsp;</a></span>_mouse_still_frames</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a> _mouse_still_frames = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of frames the mouse didn't move, used for pointer hiding. </p>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a96e49f1633a1067059f86e60674ab16a">event_box_cross_cb()</a>, <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a3794e95a1f960522a9cafac3fa9bea32">event_box_motion_cb()</a>, <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ae118a167edc65e32e3e55569b3dc2512">event_box_stillness_tick_cb()</a>, and <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ac13c10a45f32f85c859aba5395ed6b18">ui_mouse_ungrab_pointer()</a>.</p>

</div>
</div>
<a id="ab41a20a1747b217f45a9ae550de5d6fd" name="ab41a20a1747b217f45a9ae550de5d6fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab41a20a1747b217f45a9ae550de5d6fd">&#9670;&nbsp;</a></span>enable_capture</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool enable_capture = <a class="el" href="../../d9/dd0/ConvertUTF_8cpp.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether or not to capture mouse movements and warp back. </p>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a3794e95a1f960522a9cafac3fa9bea32">event_box_motion_cb()</a>, <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a867183c3708589463fa8f6289f6b6b15">mouse_host_capture()</a>, <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a413316c7284a430c80de41d4d83b581e">mouse_host_moved()</a>, and <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a35238bed6f64195252ef2fa3ad406319">mouse_host_uncapture()</a>.</p>

</div>
</div>
<a id="a413e2730fc2d71ab06957caec289f325" name="a413e2730fc2d71ab06957caec289f325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a413e2730fc2d71ab06957caec289f325">&#9670;&nbsp;</a></span>host_delta_origin_x</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a> host_delta_origin_x = 0.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Host mouse deltas are calculated from this X value. </p>
<p >After the delta is calculated, the mouse is warped back to this location. </p>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a867183c3708589463fa8f6289f6b6b15">mouse_host_capture()</a>, and <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a413316c7284a430c80de41d4d83b581e">mouse_host_moved()</a>.</p>

</div>
</div>
<a id="a6f3d9064fc5a685adba3fd84c6a3c7fe" name="a6f3d9064fc5a685adba3fd84c6a3c7fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f3d9064fc5a685adba3fd84c6a3c7fe">&#9670;&nbsp;</a></span>host_delta_origin_y</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dec/opencbmlib_8h.html#a4a877cfaa31946b05f87057f6e9107dc">int</a> host_delta_origin_y = 0.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Host mouse deltas are calculated from this Y value. </p>
<p >After the delta is calculated, the mouse is warped back to this location. </p>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a867183c3708589463fa8f6289f6b6b15">mouse_host_capture()</a>, and <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a413316c7284a430c80de41d4d83b581e">mouse_host_moved()</a>.</p>

</div>
</div>
<a id="ac42ce165577610fe7b71bc593fa56324" name="ac42ce165577610fe7b71bc593fa56324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac42ce165577610fe7b71bc593fa56324">&#9670;&nbsp;</a></span>ignore_mouse_hide</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gboolean ignore_mouse_hide = <a class="el" href="../../d7/d24/fastsid_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ignore the hide-mouse-cursor event handlers. </p>
<p >Used during dialogs </p>

<p class="reference">Referenced by <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#ae118a167edc65e32e3e55569b3dc2512">event_box_stillness_tick_cb()</a>, and <a class="el" href="../../dd/dcc/uimachinewindow_8c.html#a46dbd99b67e556f36ee077b7d193efd0">ui_set_ignore_mouse_hide()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_70d5e250c66d001b18da37689179cade.html">arch</a></li><li class="navelem"><a class="el" href="../../dir_c54d499b7f33dfc2d305dae6070404dd.html">gtk3</a></li><li class="navelem"><a class="el" href="../../dd/dcc/uimachinewindow_8c.html">uimachinewindow.c</a></li>
    <li class="footer">Generated on Sun Jun 16 2024 16:42:48 for vsid by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
